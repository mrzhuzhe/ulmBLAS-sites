
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>
    work/sghpc (index)
    </title>

<script type="text/javascript">
  MathJax.Hub.Config({
     extensions: ["tex2jax.js"],
     tex2jax: {
         inlineMath: [ ['$','$']/*, ["\\(","\\)"]*/ ],
         displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
         processEscapes: true
     },
     "HTML-CSS": { scale: 100 }
  });
</script>

<script type="text/javascript"
 src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<link rel="stylesheet"
      type="text/css"
      href="../default.css"
      title="default style"
      media="screen,projection">


</head>
<body>
<script type="text/javascript" src="../wz_tooltip.js"></script>

<div id="wrap">

<div class="nav">
<span class="nav_tut_middle">
<a class="nav" href="../index.html">Home</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../page02/index.html">Back</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../index.html">Up</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../page04/index.html">Next</a>
</span>


<span class="nav_tut_right">
<a class="nav" href="dir.html">Browse Files</a>
</span>
</div>

<div><a name="top"></a></div>

<div id="content">

<table id="toc" class="toc">
<tr><td>
<div id="toctext"><h4 class="toc">Content</h4></div>
<ul class="sections">
<li class="section"><a href="#toc1" class="toc">Select the demo-naive-sse-with-intrinsics Branch</a></li>
<li class="section"><a href="#toc2" class="toc">The Micro Kernel Algorithm</a></li>
<li class="section"><a href="#toc3" class="toc">The dgemm_nn Code</a></li>
<li class="section"><a href="#toc4" class="toc">Benchmark Results</a></li>
</ul>
</td></tr>
</table>
<h1 class="doc">
Naive Use of SSE Intrinsics</h1>

<p >
     The implementation presented here uses <a href="https://software.intel.com/sites/landingpage/IntrinsicsGuide/">SSE intrinsics</a>.  In my naive way of thinking I expected a compiler to produce this implementation on assembly level when optimizing the <tt>demo-pure-c</tt> micro kernel.  However, no matter what attributes, optimization flags and tricks I used, the compiler never could optimize the <tt>demo-pure-c</tt> micro kernel to the performance level of this micro kernel.</p>

<h2 class="doc">
<a name="toc1"></a>
Select the demo-naive-sse-with-intrinsics Branch</h2>

<p >
     Again, we do a <tt>make clean</tt> before switching a branch:</p><div class="shell" style="height:6em;"><pre>
<span class="cmd">$shell> cd ulmBLAS                                                       </span>
<span class="cmd">$shell> make clean                                                       </span>
for dir in src refblas test bench; do make -C $dir clean; done
rm -f  auxiliary/xerbla.o  level1/dasum.o level1/daxpy.o level1/dcopy.o level1/ddot.o level1/dnrm2.o level1/drot.o level1/drotg.o level1/drotm.o level1/drotmg.o level1/dscal.o level1/dswap.o level1/idamax.o  level3/dgemm.o level3/dgemm_nn.o level3/dsymm.o level3/stubs.o
rm -f  auxiliary/atl_xerbla.o  level1/atl_dasum.o level1/atl_daxpy.o level1/atl_dcopy.o level1/atl_ddot.o level1/atl_dnrm2.o level1/atl_drot.o level1/atl_drotg.o level1/atl_drotm.o level1/atl_drotmg.o level1/atl_dscal.o level1/atl_dswap.o level1/atl_idamax.o  level3/atl_dgemm.o level3/atl_dgemm_nn.o level3/atl_dsymm.o level3/atl_stubs.o
rm -f ../libulmblas.a
rm -f ../libatlulmblas.a
rm -f caxpy.o ccopy.o cdotc.o cdotu.o cgbmv.o cgemm.o cgemv.o cgerc.o cgeru.o chbmv.o chemm.o chemv.o cher.o cher2.o cher2k.o cherk.o chpmv.o chpr.o chpr2.o crotg.o cscal.o csrot.o csscal.o cswap.o csymm.o csyr2k.o csyrk.o ctbmv.o ctbsv.o ctpmv.o ctpsv.o ctrmm.o ctrmv.o ctrsm.o ctrsv.o dasum.o daxpy.o dcabs1.o dcopy.o ddot.o dgbmv.o dgemm.o dgemv.o dger.o dnrm2.o drot.o drotg.o drotm.o drotmg.o dsbmv.o dscal.o dsdot.o dspmv.o dspr.o dspr2.o dswap.o dsymm.o dsymv.o dsyr.o dsyr2.o dsyr2k.o dsyrk.o dtbmv.o dtbsv.o dtpmv.o dtpsv.o dtrmm.o dtrmv.o dtrsm.o dtrsv.o dzasum.o dznrm2.o icamax.o idamax.o isamax.o izamax.o lsame.o sasum.o saxpy.o scabs1.o scasum.o scnrm2.o scopy.o sdot.o sdsdot.o sgbmv.o sgemm.o sgemv.o sger.o snrm2.o srot.o srotg.o srotm.o srotmg.o ssbmv.o sscal.o sspmv.o sspr.o sspr2.o sswap.o ssymm.o ssymv.o ssyr.o ssyr2.o ssyr2k.o ssyrk.o stbmv.o stbsv.o stpmv.o stpsv.o strmm.o strmv.o strsm.o strsv.o xerbla.o xerbla_array.o zaxpy.o zcopy.o zdotc.o zdotu.o zdrot.o zdscal.o zgbmv.o zgemm.o zgemv.o zgerc.o zgeru.o zhbmv.o zhemm.o zhemv.o zher.o zher2.o zher2k.o zherk.o zhpmv.o zhpr.o zhpr2.o zrotg.o zscal.o zswap.o zsymm.o zsyr2k.o zsyrk.o ztbmv.o ztbsv.o ztpmv.o ztpsv.o ztrmm.o ztrmv.o ztrsm.o ztrsv.o
rm -f ../librefblas.a
rm -f  dblat1_ref  dblat3_ref  dblat1_ulm  dblat3_ulm *.SUMM
rm -f xdl1blastst libtstatlas.a l1blastst.o  ATL_cputime.o  ATL_epsilon.o  ATL_f77amax.o  ATL_f77asum.o  ATL_f77axpy.o  ATL_f77copy.o  ATL_f77dot.o  ATL_f77gemm.o  ATL_f77nrm2.o  ATL_f77rot.o  ATL_f77rotg.o  ATL_f77rotm.o  ATL_f77rotmg.o  ATL_f77scal.o  ATL_f77swap.o  ATL_f77symm.o  ATL_f77syr2k.o  ATL_f77syrk.o  ATL_f77trmm.o  ATL_f77trsm.o  ATL_flushcache.o  ATL_gediffnrm1.o  ATL_gegen.o  ATL_genrm1.o  ATL_infnrm.o  ATL_rand.o  ATL_set.o  ATL_synrm.o  ATL_trnrm1.o  ATL_vdiff.o  ATL_zero.o  ATL_df77wrap.o
</pre></div>
<p >
     Then we are checking out the <tt>demo-naive-sse-with-intrinsics</tt> branch:</p><div class="shell" ><pre>
<span class="cmd">$shell> git branch -a                                                    </span>
* demo-pure-c
  master
  remotes/origin/HEAD -> origin/master
  remotes/origin/bench-atlas
  remotes/origin/bench-blis
  remotes/origin/bench-eigen
  remotes/origin/bench-mkl
  remotes/origin/blis-avx-microkernel
  remotes/origin/demo-naive-avx-with-intrinsics
  remotes/origin/demo-naive-sse-with-intrinsics
  remotes/origin/demo-naive-sse-with-intrinsics-unrolled
  remotes/origin/demo-pure-c
  remotes/origin/demo-sse-all-asm
  remotes/origin/demo-sse-all-asm-try-prefetching
  remotes/origin/demo-sse-all-asm-try-prefetching-v2
  remotes/origin/demo-sse-all-asm-with-prefetching
  remotes/origin/demo-sse-asm
  remotes/origin/demo-sse-asm-for-AB-loop
  remotes/origin/demo-sse-asm-unrolled
  remotes/origin/demo-sse-asm-unrolled-v2
  remotes/origin/demo-sse-asm-unrolled-v3
  remotes/origin/demo-sse-asm-unrolled-with-prefetch
  remotes/origin/demo-sse-intrinsics
  remotes/origin/demo-sse-intrinsics-for-AB-loop
  remotes/origin/demo-sse-intrinsics-v2
  remotes/origin/demo-sse-intrinsics-v3
  remotes/origin/demo-with-sse-intrinsics
  remotes/origin/master
  remotes/origin/trsm-assignment
  remotes/origin/trsm-pure-c
<span class="cmd">$shell> git checkout -B demo-naive-sse-with-intrinsics remotes/origin/demo-naive-sse-with-intrinsics       </span>
Switched to a new branch 'demo-naive-sse-with-intrinsics'
Branch demo-naive-sse-with-intrinsics set up to track remote branch demo-naive-sse-with-intrinsics from origin.
</pre></div>
<p >
     Then we compile the project</p><div class="shell" style="height:15em;"><pre>
<span class="cmd">$shell> make                                                             </span>
make -C src
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o auxiliary/xerbla.o auxiliary/xerbla.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/dasum.o level1/dasum.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/daxpy.o level1/daxpy.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/dcopy.o level1/dcopy.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/ddot.o level1/ddot.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/dnrm2.o level1/dnrm2.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/drot.o level1/drot.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/drotg.o level1/drotg.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/drotm.o level1/drotm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/drotmg.o level1/drotmg.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/dscal.o level1/dscal.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/dswap.o level1/dswap.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level1/idamax.o level1/idamax.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level3/dgemm.o level3/dgemm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level3/dgemm_nn.o level3/dgemm_nn.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level3/dsymm.o level3/dsymm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -c -o level3/stubs.o level3/stubs.c
ar cru ../libulmblas.a  auxiliary/xerbla.o  level1/dasum.o level1/daxpy.o level1/dcopy.o level1/ddot.o level1/dnrm2.o level1/drot.o level1/drotg.o level1/drotm.o level1/drotmg.o level1/dscal.o level1/dswap.o level1/idamax.o  level3/dgemm.o level3/dgemm_nn.o level3/dsymm.o level3/stubs.o
ranlib ../libulmblas.a
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o auxiliary/atl_xerbla.o auxiliary/xerbla.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_dasum.o level1/dasum.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_daxpy.o level1/daxpy.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_dcopy.o level1/dcopy.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_ddot.o level1/ddot.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_dnrm2.o level1/dnrm2.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_drot.o level1/drot.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_drotg.o level1/drotg.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_drotm.o level1/drotm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_drotmg.o level1/drotmg.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_dscal.o level1/dscal.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_dswap.o level1/dswap.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level1/atl_idamax.o level1/idamax.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level3/atl_dgemm.o level3/dgemm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level3/atl_dgemm_nn.o level3/dgemm_nn.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level3/atl_dsymm.o level3/dsymm.c
gcc-4.8 -Wall -I. -O2  -msse3 -mfpmath=sse -fomit-frame-pointer -DFAKE_ATLAS -c -o level3/atl_stubs.o level3/stubs.c
ar cru ../libatlulmblas.a  auxiliary/atl_xerbla.o  level1/atl_dasum.o level1/atl_daxpy.o level1/atl_dcopy.o level1/atl_ddot.o level1/atl_dnrm2.o level1/atl_drot.o level1/atl_drotg.o level1/atl_drotm.o level1/atl_drotmg.o level1/atl_dscal.o level1/atl_dswap.o level1/atl_idamax.o  level3/atl_dgemm.o level3/atl_dgemm_nn.o level3/atl_dsymm.o level3/atl_stubs.o
ranlib ../libatlulmblas.a
make -C refblas
gfortran -fimplicit-none -O3 -c -o caxpy.o caxpy.f
gfortran -fimplicit-none -O3 -c -o ccopy.o ccopy.f
gfortran -fimplicit-none -O3 -c -o cdotc.o cdotc.f
gfortran -fimplicit-none -O3 -c -o cdotu.o cdotu.f
gfortran -fimplicit-none -O3 -c -o cgbmv.o cgbmv.f
gfortran -fimplicit-none -O3 -c -o cgemm.o cgemm.f
gfortran -fimplicit-none -O3 -c -o cgemv.o cgemv.f
gfortran -fimplicit-none -O3 -c -o cgerc.o cgerc.f
gfortran -fimplicit-none -O3 -c -o cgeru.o cgeru.f
gfortran -fimplicit-none -O3 -c -o chbmv.o chbmv.f
gfortran -fimplicit-none -O3 -c -o chemm.o chemm.f
gfortran -fimplicit-none -O3 -c -o chemv.o chemv.f
gfortran -fimplicit-none -O3 -c -o cher.o cher.f
gfortran -fimplicit-none -O3 -c -o cher2.o cher2.f
gfortran -fimplicit-none -O3 -c -o cher2k.o cher2k.f
gfortran -fimplicit-none -O3 -c -o cherk.o cherk.f
gfortran -fimplicit-none -O3 -c -o chpmv.o chpmv.f
gfortran -fimplicit-none -O3 -c -o chpr.o chpr.f
gfortran -fimplicit-none -O3 -c -o chpr2.o chpr2.f
gfortran -fimplicit-none -O3 -c -o crotg.o crotg.f
gfortran -fimplicit-none -O3 -c -o cscal.o cscal.f
gfortran -fimplicit-none -O3 -c -o csrot.o csrot.f
gfortran -fimplicit-none -O3 -c -o csscal.o csscal.f
gfortran -fimplicit-none -O3 -c -o cswap.o cswap.f
gfortran -fimplicit-none -O3 -c -o csymm.o csymm.f
gfortran -fimplicit-none -O3 -c -o csyr2k.o csyr2k.f
gfortran -fimplicit-none -O3 -c -o csyrk.o csyrk.f
gfortran -fimplicit-none -O3 -c -o ctbmv.o ctbmv.f
gfortran -fimplicit-none -O3 -c -o ctbsv.o ctbsv.f
gfortran -fimplicit-none -O3 -c -o ctpmv.o ctpmv.f
gfortran -fimplicit-none -O3 -c -o ctpsv.o ctpsv.f
gfortran -fimplicit-none -O3 -c -o ctrmm.o ctrmm.f
gfortran -fimplicit-none -O3 -c -o ctrmv.o ctrmv.f
gfortran -fimplicit-none -O3 -c -o ctrsm.o ctrsm.f
gfortran -fimplicit-none -O3 -c -o ctrsv.o ctrsv.f
gfortran -fimplicit-none -O3 -c -o dasum.o dasum.f
gfortran -fimplicit-none -O3 -c -o daxpy.o daxpy.f
gfortran -fimplicit-none -O3 -c -o dcabs1.o dcabs1.f
gfortran -fimplicit-none -O3 -c -o dcopy.o dcopy.f
gfortran -fimplicit-none -O3 -c -o ddot.o ddot.f
gfortran -fimplicit-none -O3 -c -o dgbmv.o dgbmv.f
gfortran -fimplicit-none -O3 -c -o dgemm.o dgemm.f
gfortran -fimplicit-none -O3 -c -o dgemv.o dgemv.f
gfortran -fimplicit-none -O3 -c -o dger.o dger.f
gfortran -fimplicit-none -O3 -c -o dnrm2.o dnrm2.f
gfortran -fimplicit-none -O3 -c -o drot.o drot.f
gfortran -fimplicit-none -O3 -c -o drotg.o drotg.f
gfortran -fimplicit-none -O3 -c -o drotm.o drotm.f
gfortran -fimplicit-none -O3 -c -o drotmg.o drotmg.f
gfortran -fimplicit-none -O3 -c -o dsbmv.o dsbmv.f
gfortran -fimplicit-none -O3 -c -o dscal.o dscal.f
gfortran -fimplicit-none -O3 -c -o dsdot.o dsdot.f
gfortran -fimplicit-none -O3 -c -o dspmv.o dspmv.f
gfortran -fimplicit-none -O3 -c -o dspr.o dspr.f
gfortran -fimplicit-none -O3 -c -o dspr2.o dspr2.f
gfortran -fimplicit-none -O3 -c -o dswap.o dswap.f
gfortran -fimplicit-none -O3 -c -o dsymm.o dsymm.f
gfortran -fimplicit-none -O3 -c -o dsymv.o dsymv.f
gfortran -fimplicit-none -O3 -c -o dsyr.o dsyr.f
gfortran -fimplicit-none -O3 -c -o dsyr2.o dsyr2.f
gfortran -fimplicit-none -O3 -c -o dsyr2k.o dsyr2k.f
gfortran -fimplicit-none -O3 -c -o dsyrk.o dsyrk.f
gfortran -fimplicit-none -O3 -c -o dtbmv.o dtbmv.f
gfortran -fimplicit-none -O3 -c -o dtbsv.o dtbsv.f
gfortran -fimplicit-none -O3 -c -o dtpmv.o dtpmv.f
gfortran -fimplicit-none -O3 -c -o dtpsv.o dtpsv.f
gfortran -fimplicit-none -O3 -c -o dtrmm.o dtrmm.f
gfortran -fimplicit-none -O3 -c -o dtrmv.o dtrmv.f
gfortran -fimplicit-none -O3 -c -o dtrsm.o dtrsm.f
gfortran -fimplicit-none -O3 -c -o dtrsv.o dtrsv.f
gfortran -fimplicit-none -O3 -c -o dzasum.o dzasum.f
gfortran -fimplicit-none -O3 -c -o dznrm2.o dznrm2.f
gfortran -fimplicit-none -O3 -c -o icamax.o icamax.f
gfortran -fimplicit-none -O3 -c -o idamax.o idamax.f
gfortran -fimplicit-none -O3 -c -o isamax.o isamax.f
gfortran -fimplicit-none -O3 -c -o izamax.o izamax.f
gfortran -fimplicit-none -O3 -c -o lsame.o lsame.f
gfortran -fimplicit-none -O3 -c -o sasum.o sasum.f
gfortran -fimplicit-none -O3 -c -o saxpy.o saxpy.f
gfortran -fimplicit-none -O3 -c -o scabs1.o scabs1.f
gfortran -fimplicit-none -O3 -c -o scasum.o scasum.f
gfortran -fimplicit-none -O3 -c -o scnrm2.o scnrm2.f
gfortran -fimplicit-none -O3 -c -o scopy.o scopy.f
gfortran -fimplicit-none -O3 -c -o sdot.o sdot.f
gfortran -fimplicit-none -O3 -c -o sdsdot.o sdsdot.f
gfortran -fimplicit-none -O3 -c -o sgbmv.o sgbmv.f
gfortran -fimplicit-none -O3 -c -o sgemm.o sgemm.f
gfortran -fimplicit-none -O3 -c -o sgemv.o sgemv.f
gfortran -fimplicit-none -O3 -c -o sger.o sger.f
gfortran -fimplicit-none -O3 -c -o snrm2.o snrm2.f
gfortran -fimplicit-none -O3 -c -o srot.o srot.f
gfortran -fimplicit-none -O3 -c -o srotg.o srotg.f
gfortran -fimplicit-none -O3 -c -o srotm.o srotm.f
gfortran -fimplicit-none -O3 -c -o srotmg.o srotmg.f
gfortran -fimplicit-none -O3 -c -o ssbmv.o ssbmv.f
gfortran -fimplicit-none -O3 -c -o sscal.o sscal.f
gfortran -fimplicit-none -O3 -c -o sspmv.o sspmv.f
gfortran -fimplicit-none -O3 -c -o sspr.o sspr.f
gfortran -fimplicit-none -O3 -c -o sspr2.o sspr2.f
gfortran -fimplicit-none -O3 -c -o sswap.o sswap.f
gfortran -fimplicit-none -O3 -c -o ssymm.o ssymm.f
gfortran -fimplicit-none -O3 -c -o ssymv.o ssymv.f
gfortran -fimplicit-none -O3 -c -o ssyr.o ssyr.f
gfortran -fimplicit-none -O3 -c -o ssyr2.o ssyr2.f
gfortran -fimplicit-none -O3 -c -o ssyr2k.o ssyr2k.f
gfortran -fimplicit-none -O3 -c -o ssyrk.o ssyrk.f
gfortran -fimplicit-none -O3 -c -o stbmv.o stbmv.f
gfortran -fimplicit-none -O3 -c -o stbsv.o stbsv.f
gfortran -fimplicit-none -O3 -c -o stpmv.o stpmv.f
gfortran -fimplicit-none -O3 -c -o stpsv.o stpsv.f
gfortran -fimplicit-none -O3 -c -o strmm.o strmm.f
gfortran -fimplicit-none -O3 -c -o strmv.o strmv.f
gfortran -fimplicit-none -O3 -c -o strsm.o strsm.f
gfortran -fimplicit-none -O3 -c -o strsv.o strsv.f
gfortran -fimplicit-none -O3 -c -o xerbla.o xerbla.f
gfortran -fimplicit-none -O3 -c -o xerbla_array.o xerbla_array.f
gfortran -fimplicit-none -O3 -c -o zaxpy.o zaxpy.f
gfortran -fimplicit-none -O3 -c -o zcopy.o zcopy.f
gfortran -fimplicit-none -O3 -c -o zdotc.o zdotc.f
gfortran -fimplicit-none -O3 -c -o zdotu.o zdotu.f
gfortran -fimplicit-none -O3 -c -o zdrot.o zdrot.f
gfortran -fimplicit-none -O3 -c -o zdscal.o zdscal.f
gfortran -fimplicit-none -O3 -c -o zgbmv.o zgbmv.f
gfortran -fimplicit-none -O3 -c -o zgemm.o zgemm.f
gfortran -fimplicit-none -O3 -c -o zgemv.o zgemv.f
gfortran -fimplicit-none -O3 -c -o zgerc.o zgerc.f
gfortran -fimplicit-none -O3 -c -o zgeru.o zgeru.f
gfortran -fimplicit-none -O3 -c -o zhbmv.o zhbmv.f
gfortran -fimplicit-none -O3 -c -o zhemm.o zhemm.f
gfortran -fimplicit-none -O3 -c -o zhemv.o zhemv.f
gfortran -fimplicit-none -O3 -c -o zher.o zher.f
gfortran -fimplicit-none -O3 -c -o zher2.o zher2.f
gfortran -fimplicit-none -O3 -c -o zher2k.o zher2k.f
gfortran -fimplicit-none -O3 -c -o zherk.o zherk.f
gfortran -fimplicit-none -O3 -c -o zhpmv.o zhpmv.f
gfortran -fimplicit-none -O3 -c -o zhpr.o zhpr.f
gfortran -fimplicit-none -O3 -c -o zhpr2.o zhpr2.f
gfortran -fimplicit-none -O3 -c -o zrotg.o zrotg.f
gfortran -fimplicit-none -O3 -c -o zscal.o zscal.f
gfortran -fimplicit-none -O3 -c -o zswap.o zswap.f
gfortran -fimplicit-none -O3 -c -o zsymm.o zsymm.f
gfortran -fimplicit-none -O3 -c -o zsyr2k.o zsyr2k.f
gfortran -fimplicit-none -O3 -c -o zsyrk.o zsyrk.f
gfortran -fimplicit-none -O3 -c -o ztbmv.o ztbmv.f
gfortran -fimplicit-none -O3 -c -o ztbsv.o ztbsv.f
gfortran -fimplicit-none -O3 -c -o ztpmv.o ztpmv.f
gfortran -fimplicit-none -O3 -c -o ztpsv.o ztpsv.f
gfortran -fimplicit-none -O3 -c -o ztrmm.o ztrmm.f
gfortran -fimplicit-none -O3 -c -o ztrmv.o ztrmv.f
gfortran -fimplicit-none -O3 -c -o ztrsm.o ztrsm.f
gfortran -fimplicit-none -O3 -c -o ztrsv.o ztrsv.f
ar cru ../librefblas.a caxpy.o ccopy.o cdotc.o cdotu.o cgbmv.o cgemm.o cgemv.o cgerc.o cgeru.o chbmv.o chemm.o chemv.o cher.o cher2.o cher2k.o cherk.o chpmv.o chpr.o chpr2.o crotg.o cscal.o csrot.o csscal.o cswap.o csymm.o csyr2k.o csyrk.o ctbmv.o ctbsv.o ctpmv.o ctpsv.o ctrmm.o ctrmv.o ctrsm.o ctrsv.o dasum.o daxpy.o dcabs1.o dcopy.o ddot.o dgbmv.o dgemm.o dgemv.o dger.o dnrm2.o drot.o drotg.o drotm.o drotmg.o dsbmv.o dscal.o dsdot.o dspmv.o dspr.o dspr2.o dswap.o dsymm.o dsymv.o dsyr.o dsyr2.o dsyr2k.o dsyrk.o dtbmv.o dtbsv.o dtpmv.o dtpsv.o dtrmm.o dtrmv.o dtrsm.o dtrsv.o dzasum.o dznrm2.o icamax.o idamax.o isamax.o izamax.o lsame.o sasum.o saxpy.o scabs1.o scasum.o scnrm2.o scopy.o sdot.o sdsdot.o sgbmv.o sgemm.o sgemv.o sger.o snrm2.o srot.o srotg.o srotm.o srotmg.o ssbmv.o sscal.o sspmv.o sspr.o sspr2.o sswap.o ssymm.o ssymv.o ssyr.o ssyr2.o ssyr2k.o ssyrk.o stbmv.o stbsv.o stpmv.o stpsv.o strmm.o strmv.o strsm.o strsv.o xerbla.o xerbla_array.o zaxpy.o zcopy.o zdotc.o zdotu.o zdrot.o zdscal.o zgbmv.o zgemm.o zgemv.o zgerc.o zgeru.o zhbmv.o zhemm.o zhemv.o zher.o zher2.o zher2k.o zherk.o zhpmv.o zhpr.o zhpr2.o zrotg.o zscal.o zswap.o zsymm.o zsyr2k.o zsyrk.o ztbmv.o ztbsv.o ztpmv.o ztpsv.o ztrmm.o ztrmv.o ztrsm.o ztrsv.o
ranlib ../librefblas.a
make -C test
gfortran dblat1.f -L.. -lrefblas -o dblat1_ref
dblat1.f:215.44:
               CALL STEST1(DNRM2(N,SX,INCX),STEMP,STEMP,SFAC)           
                                            1
Warning: Rank mismatch in argument 'strue1' at (1) (scalar and rank-1)
dblat1.f:219.44:
               CALL STEST1(DASUM(N,SX,INCX),STEMP,STEMP,SFAC)           
                                            1
Warning: Rank mismatch in argument 'strue1' at (1) (scalar and rank-1)
gfortran dblat3.f -L.. -lrefblas -o dblat3_ref
gfortran dblat1.f -L.. -lulmblas -o dblat1_ulm
dblat1.f:215.44:
               CALL STEST1(DNRM2(N,SX,INCX),STEMP,STEMP,SFAC)           
                                            1
Warning: Rank mismatch in argument 'strue1' at (1) (scalar and rank-1)
dblat1.f:219.44:
               CALL STEST1(DASUM(N,SX,INCX),STEMP,STEMP,SFAC)           
                                            1
Warning: Rank mismatch in argument 'strue1' at (1) (scalar and rank-1)
gfortran dblat3.f -L.. -lulmblas -o dblat3_ulm
make -C bench
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o l1blastst.o l1blastst.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_cputime.o ATL_cputime.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_epsilon.o ATL_epsilon.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77amax.o ATL_f77amax.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77asum.o ATL_f77asum.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77axpy.o ATL_f77axpy.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77copy.o ATL_f77copy.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77dot.o ATL_f77dot.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77gemm.o ATL_f77gemm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77nrm2.o ATL_f77nrm2.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77rot.o ATL_f77rot.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77rotg.o ATL_f77rotg.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77rotm.o ATL_f77rotm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77rotmg.o ATL_f77rotmg.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77scal.o ATL_f77scal.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77swap.o ATL_f77swap.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77symm.o ATL_f77symm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77syr2k.o ATL_f77syr2k.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77syrk.o ATL_f77syrk.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77trmm.o ATL_f77trmm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_f77trsm.o ATL_f77trsm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_flushcache.o ATL_flushcache.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_gediffnrm1.o ATL_gediffnrm1.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_gegen.o ATL_gegen.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_genrm1.o ATL_genrm1.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_infnrm.o ATL_infnrm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_rand.o ATL_rand.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_set.o ATL_set.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_synrm.o ATL_synrm.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_trnrm1.o ATL_trnrm1.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_vdiff.o ATL_vdiff.c
gcc-4.8 -c -DL2SIZE=4194304 -DAdd_ -DF77_INTEGER=int -DStringSunStyle -DATL_SSE2 -DDREAL   -c -o ATL_zero.o ATL_zero.c
gfortran   -c -o ATL_df77wrap.o ATL_df77wrap.f
ar r libtstatlas.a  ATL_cputime.o  ATL_epsilon.o  ATL_f77amax.o  ATL_f77asum.o  ATL_f77axpy.o  ATL_f77copy.o  ATL_f77dot.o  ATL_f77gemm.o  ATL_f77nrm2.o  ATL_f77rot.o  ATL_f77rotg.o  ATL_f77rotm.o  ATL_f77rotmg.o  ATL_f77scal.o  ATL_f77swap.o  ATL_f77symm.o  ATL_f77syr2k.o  ATL_f77syrk.o  ATL_f77trmm.o  ATL_f77trsm.o  ATL_flushcache.o  ATL_gediffnrm1.o  ATL_gegen.o  ATL_genrm1.o  ATL_infnrm.o  ATL_rand.o  ATL_set.o  ATL_synrm.o  ATL_trnrm1.o  ATL_vdiff.o  ATL_zero.o  ATL_df77wrap.o
ar: creating archive libtstatlas.a
ranlib libtstatlas.a
gfortran -o xdl1blastst l1blastst.o libtstatlas.a ../libatlulmblas.a ../librefblas.a
gfortran -o xdl3blastst l3blastst.o libtstatlas.a ../libatlulmblas.a ../librefblas.a
</pre></div>


<h2 class="doc">
<a name="toc2"></a>
The Micro Kernel Algorithm</h2>

<p >
     We merely optimize the update step</p>\[\mathbf{AB} \leftarrow \mathbf{AB} +        \begin{pmatrix} a_{4l} \\ a_{4l+1} \\ a_{4l+2} \\ a_{4l+3}\end{pmatrix}        \begin{pmatrix} b_{4l}, & b_{4l+1}, & b_{4l+2}, & b_{4l+3}\end{pmatrix}\]<p >
     by using SSE intrinsics.  Looking at the original C code</p><div class="code">
<div class="code_content"><span class="code_content">
<!-- CodeLine     1 --><span style="color:#af5f00">for</span>&nbsp;(l=<span style="color:#c00000">0</span>; l&lt;kc; ++l) {<br>
<!-- CodeLine     2 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine     3 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine     4 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AB[i+j*MR] += A[i]*B[j];<br>
<!-- CodeLine     5 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine     6 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine     7 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A += MR;<br>
<!-- CodeLine     8 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B += NR;<br>
<!-- CodeLine     9 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
</span></div><!--code_content-->
</div><!-- code -->
<p >
     we notice that in the most inner loop the value <tt>B[j]</tt> does not change.  The natural idea is to compute this step as</p>\[\mathbf{AB} \leftarrow \mathbf{AB} +        \begin{pmatrix}        b_{4l} \begin{pmatrix} a_{4l} \\ a_{4l+1} \\ a_{4l+2} \\ a_{4l+3}\end{pmatrix},   &        b_{4l+1} \begin{pmatrix} a_{4l} \\ a_{4l+1} \\ a_{4l+2} \\ a_{4l+3}\end{pmatrix}, &        b_{4l+2} \begin{pmatrix} a_{4l} \\ a_{4l+1} \\ a_{4l+2} \\ a_{4l+3}\end{pmatrix}, &        b_{4l+3} \begin{pmatrix} a_{4l} \\ a_{4l+1} \\ a_{4l+2} \\ a_{4l+3}\end{pmatrix}        \end{pmatrix}\]<p >
     Let \(\mathbb{b}_{00}, \mathbb{b}_{11}, \mathbb{b}_{22}, \mathbb{b}_{33}\) and \(\mathbb{a}_{01}, \mathbb{a}_{23}\) denote SSE registers.  We use this 6 registers to store the operands:</p>\[\begin{array}{llllll}\mathbb{b}_{00} \leftarrow \begin{pmatrix} b_{4l  } \\ b_{4l  } \end{pmatrix}, &\mathbb{b}_{11} \leftarrow \begin{pmatrix} b_{4l+1} \\ b_{4l+1} \end{pmatrix}, &\mathbb{b}_{22} \leftarrow \begin{pmatrix} b_{4l+2} \\ b_{4l+2} \end{pmatrix}, &\mathbb{b}_{33} \leftarrow \begin{pmatrix} b_{4l+3} \\ b_{4l+3} \end{pmatrix}, &\mathbb{a}_{01} \leftarrow \begin{pmatrix} a_{4l  } \\ a_{4l+1} \end{pmatrix}, &\mathbb{a}_{23} \leftarrow \begin{pmatrix} a_{4l+2} \\ a_{4l+3} \end{pmatrix}\end{array}\]<p >
     Another 8 SSE registers denoted as \(\mathbb{ab}_{\cdot,\cdot}\) are used to represent \(\mathbf{AB}\):</p>\[\begin{array}{llll}\mathbb{ab}_{00,10} \leftarrow \begin{pmatrix} ab_{0,0} \\ ab_{1,0} \end{pmatrix}, &\mathbb{ab}_{01,11} \leftarrow \begin{pmatrix} ab_{0,1} \\ ab_{1,1} \end{pmatrix}, &\mathbb{ab}_{02,12} \leftarrow \begin{pmatrix} ab_{0,2} \\ ab_{1,2} \end{pmatrix}, &\mathbb{ab}_{03,13} \leftarrow \begin{pmatrix} ab_{0,3} \\ ab_{1,3} \end{pmatrix} \\[0.5cm]\mathbb{ab}_{20,30} \leftarrow \begin{pmatrix} ab_{2,0} \\ ab_{3,0} \end{pmatrix}, &\mathbb{ab}_{21,31} \leftarrow \begin{pmatrix} ab_{2,1} \\ ab_{3,1} \end{pmatrix}, &\mathbb{ab}_{22,32} \leftarrow \begin{pmatrix} ab_{2,2} \\ ab_{3,2} \end{pmatrix}, &\mathbb{ab}_{23,33} \leftarrow \begin{pmatrix} ab_{2,3} \\ ab_{3,3} \end{pmatrix}\end{array}\]<p >
     As our architecture has a total of 16 SSE registers we have two registers left. We use them for temporary results and denote them as \(\mathbb{tmp}_1\) and \(\mathbb{tmp}_2\).</p><p >
     A single update can now be computed as</p><ul class="itemize">
    <li>
        <p >
             Update the first column:        </p>        <ul class="itemize">
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{ab}_{00,10}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{ab}_{20,30}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{tmp}_1 \odot \mathbb{b}_{00}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{tmp}_2 \odot \mathbb{b}_{00}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{00,10} \leftarrow \mathbb{ab}_{00,10} + \mathbb{tmp}_1\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{20,30} \leftarrow \mathbb{ab}_{20,30} + \mathbb{tmp}_2\)                </p>            </li>
        </ul>
    </li>
    <li>
        <p >
             Update the second column:        </p>        <ul class="itemize">
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{ab}_{01,11}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{ab}_{21,31}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{tmp}_1 \odot \mathbb{b}_{11}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{tmp}_2 \odot \mathbb{b}_{11}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{01,11} \leftarrow \mathbb{ab}_{01,11} + \mathbb{tmp}_1\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{21,31} \leftarrow \mathbb{ab}_{21,31} + \mathbb{tmp}_2\)                </p>            </li>
        </ul>
    </li>
    <li>
        <p >
             Update the third column:        </p>        <ul class="itemize">
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{ab}_{02,12}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{ab}_{22,32}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{tmp}_1 \odot \mathbb{b}_{22}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{tmp}_2 \odot \mathbb{b}_{22}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{02,12} \leftarrow \mathbb{ab}_{02,12} + \mathbb{tmp}_1\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{22,32} \leftarrow \mathbb{ab}_{22,32} + \mathbb{tmp}_2\)                </p>            </li>
        </ul>
    </li>
    <li>
        <p >
             Update the forth column:        </p>        <ul class="itemize">
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{ab}_{03,13}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{ab}_{23,33}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_1 \leftarrow \mathbb{tmp}_1 \odot \mathbb{b}_{33}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{tmp}_2 \leftarrow \mathbb{tmp}_2 \odot \mathbb{b}_{33}\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{03,13} \leftarrow \mathbb{ab}_{03,13} + \mathbb{tmp}_1\)                </p>            </li>
            <li>
                <p >
                     \(\mathbb{ab}_{23,33} \leftarrow \mathbb{ab}_{23,33} + \mathbb{tmp}_2\)                </p>            </li>
        </ul>
    </li>
</ul>
<p >
     Hereby \(\odot\) denotes the usual component wise multiplication of SSE registers. We also assume that previous to the first update step all the \(\mathbb{ab}\) registers are zero initialized.</p><p >
     Once we have completed the total of \(k_c\) updates we write the result back to memory into \(\mathbf{AB}\).</p>

<h2 class="doc">
<a name="toc3"></a>
The dgemm_nn Code</h2>

<p >
     Note that we also added an attribute for 16 byte alignment to the definition of local buffers <tt>_A</tt>, <tt>_B</tt>, <tt>_C</tt> and <tt>AB</tt>.  Having a 16-byte alignment is required for the load and store intrinsics used in the micro kernel.</p><div class="code">
<div class="code_title">
<a class="code" href="../download/ulmBLAS/src/level3/dgemm_nn.c">
ulmBLAS/src/level3/dgemm_nn.c
</a>
</div><!-- Blub -->
<table class=" code_with_linenumbers"><tr><td class="code_linenumbers">
<div class="code_content"><span class="code_content">
<a name="1"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     1 --><span style="color:#af5f00">&nbsp;&nbsp;1</span><br>
<a name="2"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     2 --><span style="color:#af5f00">&nbsp;&nbsp;2</span><br>
<a name="3"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     3 --><span style="color:#af5f00">&nbsp;&nbsp;3</span><br>
<a name="4"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     4 --><span style="color:#af5f00">&nbsp;&nbsp;4</span><br>
<a name="5"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     5 --><span style="color:#af5f00">&nbsp;&nbsp;5</span><br>
<a name="6"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     6 --><span style="color:#af5f00">&nbsp;&nbsp;6</span><br>
<a name="7"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     7 --><span style="color:#af5f00">&nbsp;&nbsp;7</span><br>
<a name="8"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     8 --><span style="color:#af5f00">&nbsp;&nbsp;8</span><br>
<a name="9"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber     9 --><span style="color:#af5f00">&nbsp;&nbsp;9</span><br>
<a name="10"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    10 --><span style="color:#af5f00">&nbsp;10</span><br>
<a name="11"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    11 --><span style="color:#af5f00">&nbsp;11</span><br>
<a name="12"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    12 --><span style="color:#af5f00">&nbsp;12</span><br>
<a name="13"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    13 --><span style="color:#af5f00">&nbsp;13</span><br>
<a name="14"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    14 --><span style="color:#af5f00">&nbsp;14</span><br>
<a name="15"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    15 --><span style="color:#af5f00">&nbsp;15</span><br>
<a name="16"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    16 --><span style="color:#af5f00">&nbsp;16</span><br>
<a name="17"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    17 --><span style="color:#af5f00">&nbsp;17</span><br>
<a name="18"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    18 --><span style="color:#af5f00">&nbsp;18</span><br>
<a name="19"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    19 --><span style="color:#af5f00">&nbsp;19</span><br>
<a name="20"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    20 --><span style="color:#af5f00">&nbsp;20</span><br>
<a name="21"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    21 --><span style="color:#af5f00">&nbsp;21</span><br>
<a name="22"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    22 --><span style="color:#af5f00">&nbsp;22</span><br>
<a name="23"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    23 --><span style="color:#af5f00">&nbsp;23</span><br>
<a name="24"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    24 --><span style="color:#af5f00">&nbsp;24</span><br>
<a name="25"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    25 --><span style="color:#af5f00">&nbsp;25</span><br>
<a name="26"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    26 --><span style="color:#af5f00">&nbsp;26</span><br>
<a name="27"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    27 --><span style="color:#af5f00">&nbsp;27</span><br>
<a name="28"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    28 --><span style="color:#af5f00">&nbsp;28</span><br>
<a name="29"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    29 --><span style="color:#af5f00">&nbsp;29</span><br>
<a name="30"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    30 --><span style="color:#af5f00">&nbsp;30</span><br>
<a name="31"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    31 --><span style="color:#af5f00">&nbsp;31</span><br>
<a name="32"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    32 --><span style="color:#af5f00">&nbsp;32</span><br>
<a name="33"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    33 --><span style="color:#af5f00">&nbsp;33</span><br>
<a name="34"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    34 --><span style="color:#af5f00">&nbsp;34</span><br>
<a name="35"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    35 --><span style="color:#af5f00">&nbsp;35</span><br>
<a name="36"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    36 --><span style="color:#af5f00">&nbsp;36</span><br>
<a name="37"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    37 --><span style="color:#af5f00">&nbsp;37</span><br>
<a name="38"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    38 --><span style="color:#af5f00">&nbsp;38</span><br>
<a name="39"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    39 --><span style="color:#af5f00">&nbsp;39</span><br>
<a name="40"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    40 --><span style="color:#af5f00">&nbsp;40</span><br>
<a name="41"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    41 --><span style="color:#af5f00">&nbsp;41</span><br>
<a name="42"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    42 --><span style="color:#af5f00">&nbsp;42</span><br>
<a name="43"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    43 --><span style="color:#af5f00">&nbsp;43</span><br>
<a name="44"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    44 --><span style="color:#af5f00">&nbsp;44</span><br>
<a name="45"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    45 --><span style="color:#af5f00">&nbsp;45</span><br>
<a name="46"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    46 --><span style="color:#af5f00">&nbsp;46</span><br>
<a name="47"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    47 --><span style="color:#af5f00">&nbsp;47</span><br>
<a name="48"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    48 --><span style="color:#af5f00">&nbsp;48</span><br>
<a name="49"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    49 --><span style="color:#af5f00">&nbsp;49</span><br>
<a name="50"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    50 --><span style="color:#af5f00">&nbsp;50</span><br>
<a name="51"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    51 --><span style="color:#af5f00">&nbsp;51</span><br>
<a name="52"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    52 --><span style="color:#af5f00">&nbsp;52</span><br>
<a name="53"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    53 --><span style="color:#af5f00">&nbsp;53</span><br>
<a name="54"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    54 --><span style="color:#af5f00">&nbsp;54</span><br>
<a name="55"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    55 --><span style="color:#af5f00">&nbsp;55</span><br>
<a name="56"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    56 --><span style="color:#af5f00">&nbsp;56</span><br>
<a name="57"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    57 --><span style="color:#af5f00">&nbsp;57</span><br>
<a name="58"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    58 --><span style="color:#af5f00">&nbsp;58</span><br>
<a name="59"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    59 --><span style="color:#af5f00">&nbsp;59</span><br>
<a name="60"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    60 --><span style="color:#af5f00">&nbsp;60</span><br>
<a name="61"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    61 --><span style="color:#af5f00">&nbsp;61</span><br>
<a name="62"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    62 --><span style="color:#af5f00">&nbsp;62</span><br>
<a name="63"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    63 --><span style="color:#af5f00">&nbsp;63</span><br>
<a name="64"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    64 --><span style="color:#af5f00">&nbsp;64</span><br>
<a name="65"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    65 --><span style="color:#af5f00">&nbsp;65</span><br>
<a name="66"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    66 --><span style="color:#af5f00">&nbsp;66</span><br>
<a name="67"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    67 --><span style="color:#af5f00">&nbsp;67</span><br>
<a name="68"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    68 --><span style="color:#af5f00">&nbsp;68</span><br>
<a name="69"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    69 --><span style="color:#af5f00">&nbsp;69</span><br>
<a name="70"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    70 --><span style="color:#af5f00">&nbsp;70</span><br>
<a name="71"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    71 --><span style="color:#af5f00">&nbsp;71</span><br>
<a name="72"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    72 --><span style="color:#af5f00">&nbsp;72</span><br>
<a name="73"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    73 --><span style="color:#af5f00">&nbsp;73</span><br>
<a name="74"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    74 --><span style="color:#af5f00">&nbsp;74</span><br>
<a name="75"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    75 --><span style="color:#af5f00">&nbsp;75</span><br>
<a name="76"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    76 --><span style="color:#af5f00">&nbsp;76</span><br>
<a name="77"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    77 --><span style="color:#af5f00">&nbsp;77</span><br>
<a name="78"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    78 --><span style="color:#af5f00">&nbsp;78</span><br>
<a name="79"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    79 --><span style="color:#af5f00">&nbsp;79</span><br>
<a name="80"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    80 --><span style="color:#af5f00">&nbsp;80</span><br>
<a name="81"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    81 --><span style="color:#af5f00">&nbsp;81</span><br>
<a name="82"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    82 --><span style="color:#af5f00">&nbsp;82</span><br>
<a name="83"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    83 --><span style="color:#af5f00">&nbsp;83</span><br>
<a name="84"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    84 --><span style="color:#af5f00">&nbsp;84</span><br>
<a name="85"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    85 --><span style="color:#af5f00">&nbsp;85</span><br>
<a name="86"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    86 --><span style="color:#af5f00">&nbsp;86</span><br>
<a name="87"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    87 --><span style="color:#af5f00">&nbsp;87</span><br>
<a name="88"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    88 --><span style="color:#af5f00">&nbsp;88</span><br>
<a name="89"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    89 --><span style="color:#af5f00">&nbsp;89</span><br>
<a name="90"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    90 --><span style="color:#af5f00">&nbsp;90</span><br>
<a name="91"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    91 --><span style="color:#af5f00">&nbsp;91</span><br>
<a name="92"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    92 --><span style="color:#af5f00">&nbsp;92</span><br>
<a name="93"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    93 --><span style="color:#af5f00">&nbsp;93</span><br>
<a name="94"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    94 --><span style="color:#af5f00">&nbsp;94</span><br>
<a name="95"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    95 --><span style="color:#af5f00">&nbsp;95</span><br>
<a name="96"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    96 --><span style="color:#af5f00">&nbsp;96</span><br>
<a name="97"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    97 --><span style="color:#af5f00">&nbsp;97</span><br>
<a name="98"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    98 --><span style="color:#af5f00">&nbsp;98</span><br>
<a name="99"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber    99 --><span style="color:#af5f00">&nbsp;99</span><br>
<a name="100"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   100 --><span style="color:#af5f00">100</span><br>
<a name="101"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   101 --><span style="color:#af5f00">101</span><br>
<a name="102"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   102 --><span style="color:#af5f00">102</span><br>
<a name="103"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   103 --><span style="color:#af5f00">103</span><br>
<a name="104"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   104 --><span style="color:#af5f00">104</span><br>
<a name="105"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   105 --><span style="color:#af5f00">105</span><br>
<a name="106"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   106 --><span style="color:#af5f00">106</span><br>
<a name="107"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   107 --><span style="color:#af5f00">107</span><br>
<a name="108"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   108 --><span style="color:#af5f00">108</span><br>
<a name="109"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   109 --><span style="color:#af5f00">109</span><br>
<a name="110"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   110 --><span style="color:#af5f00">110</span><br>
<a name="111"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   111 --><span style="color:#af5f00">111</span><br>
<a name="112"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   112 --><span style="color:#af5f00">112</span><br>
<a name="113"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   113 --><span style="color:#af5f00">113</span><br>
<a name="114"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   114 --><span style="color:#af5f00">114</span><br>
<a name="115"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   115 --><span style="color:#af5f00">115</span><br>
<a name="116"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   116 --><span style="color:#af5f00">116</span><br>
<a name="117"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   117 --><span style="color:#af5f00">117</span><br>
<a name="118"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   118 --><span style="color:#af5f00">118</span><br>
<a name="119"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   119 --><span style="color:#af5f00">119</span><br>
<a name="120"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   120 --><span style="color:#af5f00">120</span><br>
<a name="121"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   121 --><span style="color:#af5f00">121</span><br>
<a name="122"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   122 --><span style="color:#af5f00">122</span><br>
<a name="123"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   123 --><span style="color:#af5f00">123</span><br>
<a name="124"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   124 --><span style="color:#af5f00">124</span><br>
<a name="125"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   125 --><span style="color:#af5f00">125</span><br>
<a name="126"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   126 --><span style="color:#af5f00">126</span><br>
<a name="127"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   127 --><span style="color:#af5f00">127</span><br>
<a name="128"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   128 --><span style="color:#af5f00">128</span><br>
<a name="129"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   129 --><span style="color:#af5f00">129</span><br>
<a name="130"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   130 --><span style="color:#af5f00">130</span><br>
<a name="131"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   131 --><span style="color:#af5f00">131</span><br>
<a name="132"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   132 --><span style="color:#af5f00">132</span><br>
<a name="133"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   133 --><span style="color:#af5f00">133</span><br>
<a name="134"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   134 --><span style="color:#af5f00">134</span><br>
<a name="135"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   135 --><span style="color:#af5f00">135</span><br>
<a name="136"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   136 --><span style="color:#af5f00">136</span><br>
<a name="137"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   137 --><span style="color:#af5f00">137</span><br>
<a name="138"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   138 --><span style="color:#af5f00">138</span><br>
<a name="139"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   139 --><span style="color:#af5f00">139</span><br>
<a name="140"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   140 --><span style="color:#af5f00">140</span><br>
<a name="141"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   141 --><span style="color:#af5f00">141</span><br>
<a name="142"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   142 --><span style="color:#af5f00">142</span><br>
<a name="143"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   143 --><span style="color:#af5f00">143</span><br>
<a name="144"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   144 --><span style="color:#af5f00">144</span><br>
<a name="145"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   145 --><span style="color:#af5f00">145</span><br>
<a name="146"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   146 --><span style="color:#af5f00">146</span><br>
<a name="147"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   147 --><span style="color:#af5f00">147</span><br>
<a name="148"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   148 --><span style="color:#af5f00">148</span><br>
<a name="149"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   149 --><span style="color:#af5f00">149</span><br>
<a name="150"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   150 --><span style="color:#af5f00">150</span><br>
<a name="151"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   151 --><span style="color:#af5f00">151</span><br>
<a name="152"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   152 --><span style="color:#af5f00">152</span><br>
<a name="153"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   153 --><span style="color:#af5f00">153</span><br>
<a name="154"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   154 --><span style="color:#af5f00">154</span><br>
<a name="155"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   155 --><span style="color:#af5f00">155</span><br>
<a name="156"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   156 --><span style="color:#af5f00">156</span><br>
<a name="157"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   157 --><span style="color:#af5f00">157</span><br>
<a name="158"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   158 --><span style="color:#af5f00">158</span><br>
<a name="159"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   159 --><span style="color:#af5f00">159</span><br>
<a name="160"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   160 --><span style="color:#af5f00">160</span><br>
<a name="161"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   161 --><span style="color:#af5f00">161</span><br>
<a name="162"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   162 --><span style="color:#af5f00">162</span><br>
<a name="163"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   163 --><span style="color:#af5f00">163</span><br>
<a name="164"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   164 --><span style="color:#af5f00">164</span><br>
<a name="165"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   165 --><span style="color:#af5f00">165</span><br>
<a name="166"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   166 --><span style="color:#af5f00">166</span><br>
<a name="167"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   167 --><span style="color:#af5f00">167</span><br>
<a name="168"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   168 --><span style="color:#af5f00">168</span><br>
<a name="169"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   169 --><span style="color:#af5f00">169</span><br>
<a name="170"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   170 --><span style="color:#af5f00">170</span><br>
<a name="171"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   171 --><span style="color:#af5f00">171</span><br>
<a name="172"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   172 --><span style="color:#af5f00">172</span><br>
<a name="173"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   173 --><span style="color:#af5f00">173</span><br>
<a name="174"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   174 --><span style="color:#af5f00">174</span><br>
<a name="175"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   175 --><span style="color:#af5f00">175</span><br>
<a name="176"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   176 --><span style="color:#af5f00">176</span><br>
<a name="177"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   177 --><span style="color:#af5f00">177</span><br>
<a name="178"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   178 --><span style="color:#af5f00">178</span><br>
<a name="179"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   179 --><span style="color:#af5f00">179</span><br>
<a name="180"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   180 --><span style="color:#af5f00">180</span><br>
<a name="181"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   181 --><span style="color:#af5f00">181</span><br>
<a name="182"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   182 --><span style="color:#af5f00">182</span><br>
<a name="183"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   183 --><span style="color:#af5f00">183</span><br>
<a name="184"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   184 --><span style="color:#af5f00">184</span><br>
<a name="185"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   185 --><span style="color:#af5f00">185</span><br>
<a name="186"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   186 --><span style="color:#af5f00">186</span><br>
<a name="187"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   187 --><span style="color:#af5f00">187</span><br>
<a name="188"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   188 --><span style="color:#af5f00">188</span><br>
<a name="189"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   189 --><span style="color:#af5f00">189</span><br>
<a name="190"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   190 --><span style="color:#af5f00">190</span><br>
<a name="191"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   191 --><span style="color:#af5f00">191</span><br>
<a name="192"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   192 --><span style="color:#af5f00">192</span><br>
<a name="193"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   193 --><span style="color:#af5f00">193</span><br>
<a name="194"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   194 --><span style="color:#af5f00">194</span><br>
<a name="195"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   195 --><span style="color:#af5f00">195</span><br>
<a name="196"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   196 --><span style="color:#af5f00">196</span><br>
<a name="197"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   197 --><span style="color:#af5f00">197</span><br>
<a name="198"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   198 --><span style="color:#af5f00">198</span><br>
<a name="199"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   199 --><span style="color:#af5f00">199</span><br>
<a name="200"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   200 --><span style="color:#af5f00">200</span><br>
<a name="201"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   201 --><span style="color:#af5f00">201</span><br>
<a name="202"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   202 --><span style="color:#af5f00">202</span><br>
<a name="203"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   203 --><span style="color:#af5f00">203</span><br>
<a name="204"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   204 --><span style="color:#af5f00">204</span><br>
<a name="205"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   205 --><span style="color:#af5f00">205</span><br>
<a name="206"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   206 --><span style="color:#af5f00">206</span><br>
<a name="207"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   207 --><span style="color:#af5f00">207</span><br>
<a name="208"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   208 --><span style="color:#af5f00">208</span><br>
<a name="209"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   209 --><span style="color:#af5f00">209</span><br>
<a name="210"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   210 --><span style="color:#af5f00">210</span><br>
<a name="211"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   211 --><span style="color:#af5f00">211</span><br>
<a name="212"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   212 --><span style="color:#af5f00">212</span><br>
<a name="213"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   213 --><span style="color:#af5f00">213</span><br>
<a name="214"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   214 --><span style="color:#af5f00">214</span><br>
<a name="215"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   215 --><span style="color:#af5f00">215</span><br>
<a name="216"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   216 --><span style="color:#af5f00">216</span><br>
<a name="217"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   217 --><span style="color:#af5f00">217</span><br>
<a name="218"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   218 --><span style="color:#af5f00">218</span><br>
<a name="219"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   219 --><span style="color:#af5f00">219</span><br>
<a name="220"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   220 --><span style="color:#af5f00">220</span><br>
<a name="221"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   221 --><span style="color:#af5f00">221</span><br>
<a name="222"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   222 --><span style="color:#af5f00">222</span><br>
<a name="223"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   223 --><span style="color:#af5f00">223</span><br>
<a name="224"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   224 --><span style="color:#af5f00">224</span><br>
<a name="225"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   225 --><span style="color:#af5f00">225</span><br>
<a name="226"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   226 --><span style="color:#af5f00">226</span><br>
<a name="227"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   227 --><span style="color:#af5f00">227</span><br>
<a name="228"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   228 --><span style="color:#af5f00">228</span><br>
<a name="229"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   229 --><span style="color:#af5f00">229</span><br>
<a name="230"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   230 --><span style="color:#af5f00">230</span><br>
<a name="231"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   231 --><span style="color:#af5f00">231</span><br>
<a name="232"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   232 --><span style="color:#af5f00">232</span><br>
<a name="233"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   233 --><span style="color:#af5f00">233</span><br>
<a name="234"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   234 --><span style="color:#af5f00">234</span><br>
<a name="235"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   235 --><span style="color:#af5f00">235</span><br>
<a name="236"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   236 --><span style="color:#af5f00">236</span><br>
<a name="237"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   237 --><span style="color:#af5f00">237</span><br>
<a name="238"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   238 --><span style="color:#af5f00">238</span><br>
<a name="239"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   239 --><span style="color:#af5f00">239</span><br>
<a name="240"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   240 --><span style="color:#af5f00">240</span><br>
<a name="241"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   241 --><span style="color:#af5f00">241</span><br>
<a name="242"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   242 --><span style="color:#af5f00">242</span><br>
<a name="243"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   243 --><span style="color:#af5f00">243</span><br>
<a name="244"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   244 --><span style="color:#af5f00">244</span><br>
<a name="245"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   245 --><span style="color:#af5f00">245</span><br>
<a name="246"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   246 --><span style="color:#af5f00">246</span><br>
<a name="247"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   247 --><span style="color:#af5f00">247</span><br>
<a name="248"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   248 --><span style="color:#af5f00">248</span><br>
<a name="249"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   249 --><span style="color:#af5f00">249</span><br>
<a name="250"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   250 --><span style="color:#af5f00">250</span><br>
<a name="251"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   251 --><span style="color:#af5f00">251</span><br>
<a name="252"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   252 --><span style="color:#af5f00">252</span><br>
<a name="253"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   253 --><span style="color:#af5f00">253</span><br>
<a name="254"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   254 --><span style="color:#af5f00">254</span><br>
<a name="255"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   255 --><span style="color:#af5f00">255</span><br>
<a name="256"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   256 --><span style="color:#af5f00">256</span><br>
<a name="257"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   257 --><span style="color:#af5f00">257</span><br>
<a name="258"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   258 --><span style="color:#af5f00">258</span><br>
<a name="259"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   259 --><span style="color:#af5f00">259</span><br>
<a name="260"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   260 --><span style="color:#af5f00">260</span><br>
<a name="261"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   261 --><span style="color:#af5f00">261</span><br>
<a name="262"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   262 --><span style="color:#af5f00">262</span><br>
<a name="263"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   263 --><span style="color:#af5f00">263</span><br>
<a name="264"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   264 --><span style="color:#af5f00">264</span><br>
<a name="265"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   265 --><span style="color:#af5f00">265</span><br>
<a name="266"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   266 --><span style="color:#af5f00">266</span><br>
<a name="267"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   267 --><span style="color:#af5f00">267</span><br>
<a name="268"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   268 --><span style="color:#af5f00">268</span><br>
<a name="269"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   269 --><span style="color:#af5f00">269</span><br>
<a name="270"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   270 --><span style="color:#af5f00">270</span><br>
<a name="271"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   271 --><span style="color:#af5f00">271</span><br>
<a name="272"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   272 --><span style="color:#af5f00">272</span><br>
<a name="273"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   273 --><span style="color:#af5f00">273</span><br>
<a name="274"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   274 --><span style="color:#af5f00">274</span><br>
<a name="275"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   275 --><span style="color:#af5f00">275</span><br>
<a name="276"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   276 --><span style="color:#af5f00">276</span><br>
<a name="277"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   277 --><span style="color:#af5f00">277</span><br>
<a name="278"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   278 --><span style="color:#af5f00">278</span><br>
<a name="279"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   279 --><span style="color:#af5f00">279</span><br>
<a name="280"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   280 --><span style="color:#af5f00">280</span><br>
<a name="281"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   281 --><span style="color:#af5f00">281</span><br>
<a name="282"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   282 --><span style="color:#af5f00">282</span><br>
<a name="283"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   283 --><span style="color:#af5f00">283</span><br>
<a name="284"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   284 --><span style="color:#af5f00">284</span><br>
<a name="285"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   285 --><span style="color:#af5f00">285</span><br>
<a name="286"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   286 --><span style="color:#af5f00">286</span><br>
<a name="287"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   287 --><span style="color:#af5f00">287</span><br>
<a name="288"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   288 --><span style="color:#af5f00">288</span><br>
<a name="289"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   289 --><span style="color:#af5f00">289</span><br>
<a name="290"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   290 --><span style="color:#af5f00">290</span><br>
<a name="291"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   291 --><span style="color:#af5f00">291</span><br>
<a name="292"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   292 --><span style="color:#af5f00">292</span><br>
<a name="293"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   293 --><span style="color:#af5f00">293</span><br>
<a name="294"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   294 --><span style="color:#af5f00">294</span><br>
<a name="295"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   295 --><span style="color:#af5f00">295</span><br>
<a name="296"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   296 --><span style="color:#af5f00">296</span><br>
<a name="297"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   297 --><span style="color:#af5f00">297</span><br>
<a name="298"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   298 --><span style="color:#af5f00">298</span><br>
<a name="299"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   299 --><span style="color:#af5f00">299</span><br>
<a name="300"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   300 --><span style="color:#af5f00">300</span><br>
<a name="301"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   301 --><span style="color:#af5f00">301</span><br>
<a name="302"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   302 --><span style="color:#af5f00">302</span><br>
<a name="303"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   303 --><span style="color:#af5f00">303</span><br>
<a name="304"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   304 --><span style="color:#af5f00">304</span><br>
<a name="305"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   305 --><span style="color:#af5f00">305</span><br>
<a name="306"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   306 --><span style="color:#af5f00">306</span><br>
<a name="307"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   307 --><span style="color:#af5f00">307</span><br>
<a name="308"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   308 --><span style="color:#af5f00">308</span><br>
<a name="309"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   309 --><span style="color:#af5f00">309</span><br>
<a name="310"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   310 --><span style="color:#af5f00">310</span><br>
<a name="311"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   311 --><span style="color:#af5f00">311</span><br>
<a name="312"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   312 --><span style="color:#af5f00">312</span><br>
<a name="313"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   313 --><span style="color:#af5f00">313</span><br>
<a name="314"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   314 --><span style="color:#af5f00">314</span><br>
<a name="315"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   315 --><span style="color:#af5f00">315</span><br>
<a name="316"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   316 --><span style="color:#af5f00">316</span><br>
<a name="317"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   317 --><span style="color:#af5f00">317</span><br>
<a name="318"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   318 --><span style="color:#af5f00">318</span><br>
<a name="319"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   319 --><span style="color:#af5f00">319</span><br>
<a name="320"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   320 --><span style="color:#af5f00">320</span><br>
<a name="321"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   321 --><span style="color:#af5f00">321</span><br>
<a name="322"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   322 --><span style="color:#af5f00">322</span><br>
<a name="323"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   323 --><span style="color:#af5f00">323</span><br>
<a name="324"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   324 --><span style="color:#af5f00">324</span><br>
<a name="325"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   325 --><span style="color:#af5f00">325</span><br>
<a name="326"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   326 --><span style="color:#af5f00">326</span><br>
<a name="327"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   327 --><span style="color:#af5f00">327</span><br>
<a name="328"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   328 --><span style="color:#af5f00">328</span><br>
<a name="329"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   329 --><span style="color:#af5f00">329</span><br>
<a name="330"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   330 --><span style="color:#af5f00">330</span><br>
<a name="331"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   331 --><span style="color:#af5f00">331</span><br>
<a name="332"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   332 --><span style="color:#af5f00">332</span><br>
<a name="333"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   333 --><span style="color:#af5f00">333</span><br>
<a name="334"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   334 --><span style="color:#af5f00">334</span><br>
<a name="335"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   335 --><span style="color:#af5f00">335</span><br>
<a name="336"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   336 --><span style="color:#af5f00">336</span><br>
<a name="337"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   337 --><span style="color:#af5f00">337</span><br>
<a name="338"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   338 --><span style="color:#af5f00">338</span><br>
<a name="339"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   339 --><span style="color:#af5f00">339</span><br>
<a name="340"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   340 --><span style="color:#af5f00">340</span><br>
<a name="341"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   341 --><span style="color:#af5f00">341</span><br>
<a name="342"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   342 --><span style="color:#af5f00">342</span><br>
<a name="343"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   343 --><span style="color:#af5f00">343</span><br>
<a name="344"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   344 --><span style="color:#af5f00">344</span><br>
<a name="345"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   345 --><span style="color:#af5f00">345</span><br>
<a name="346"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   346 --><span style="color:#af5f00">346</span><br>
<a name="347"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   347 --><span style="color:#af5f00">347</span><br>
<a name="348"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   348 --><span style="color:#af5f00">348</span><br>
<a name="349"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   349 --><span style="color:#af5f00">349</span><br>
<a name="350"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   350 --><span style="color:#af5f00">350</span><br>
<a name="351"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   351 --><span style="color:#af5f00">351</span><br>
<a name="352"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   352 --><span style="color:#af5f00">352</span><br>
<a name="353"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   353 --><span style="color:#af5f00">353</span><br>
<a name="354"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   354 --><span style="color:#af5f00">354</span><br>
<a name="355"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   355 --><span style="color:#af5f00">355</span><br>
<a name="356"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   356 --><span style="color:#af5f00">356</span><br>
<a name="357"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   357 --><span style="color:#af5f00">357</span><br>
<a name="358"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   358 --><span style="color:#af5f00">358</span><br>
<a name="359"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   359 --><span style="color:#af5f00">359</span><br>
<a name="360"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   360 --><span style="color:#af5f00">360</span><br>
<a name="361"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   361 --><span style="color:#af5f00">361</span><br>
<a name="362"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   362 --><span style="color:#af5f00">362</span><br>
<a name="363"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   363 --><span style="color:#af5f00">363</span><br>
<a name="364"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   364 --><span style="color:#af5f00">364</span><br>
<a name="365"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   365 --><span style="color:#af5f00">365</span><br>
<a name="366"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   366 --><span style="color:#af5f00">366</span><br>
<a name="367"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   367 --><span style="color:#af5f00">367</span><br>
<a name="368"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   368 --><span style="color:#af5f00">368</span><br>
<a name="369"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   369 --><span style="color:#af5f00">369</span><br>
<a name="370"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   370 --><span style="color:#af5f00">370</span><br>
<a name="371"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   371 --><span style="color:#af5f00">371</span><br>
<a name="372"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   372 --><span style="color:#af5f00">372</span><br>
<a name="373"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   373 --><span style="color:#af5f00">373</span><br>
<a name="374"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   374 --><span style="color:#af5f00">374</span><br>
<a name="375"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   375 --><span style="color:#af5f00">375</span><br>
<a name="376"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   376 --><span style="color:#af5f00">376</span><br>
<a name="377"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   377 --><span style="color:#af5f00">377</span><br>
<a name="378"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   378 --><span style="color:#af5f00">378</span><br>
<a name="379"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   379 --><span style="color:#af5f00">379</span><br>
<a name="380"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   380 --><span style="color:#af5f00">380</span><br>
<a name="381"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   381 --><span style="color:#af5f00">381</span><br>
<a name="382"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   382 --><span style="color:#af5f00">382</span><br>
<a name="383"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   383 --><span style="color:#af5f00">383</span><br>
<a name="384"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   384 --><span style="color:#af5f00">384</span><br>
<a name="385"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   385 --><span style="color:#af5f00">385</span><br>
<a name="386"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   386 --><span style="color:#af5f00">386</span><br>
<a name="387"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   387 --><span style="color:#af5f00">387</span><br>
<a name="388"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   388 --><span style="color:#af5f00">388</span><br>
<a name="389"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   389 --><span style="color:#af5f00">389</span><br>
<a name="390"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   390 --><span style="color:#af5f00">390</span><br>
<a name="391"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   391 --><span style="color:#af5f00">391</span><br>
<a name="392"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   392 --><span style="color:#af5f00">392</span><br>
<a name="393"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   393 --><span style="color:#af5f00">393</span><br>
<a name="394"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   394 --><span style="color:#af5f00">394</span><br>
<a name="395"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   395 --><span style="color:#af5f00">395</span><br>
<a name="396"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   396 --><span style="color:#af5f00">396</span><br>
<a name="397"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   397 --><span style="color:#af5f00">397</span><br>
<a name="398"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   398 --><span style="color:#af5f00">398</span><br>
<a name="399"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   399 --><span style="color:#af5f00">399</span><br>
<a name="400"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   400 --><span style="color:#af5f00">400</span><br>
<a name="401"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   401 --><span style="color:#af5f00">401</span><br>
<a name="402"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   402 --><span style="color:#af5f00">402</span><br>
<a name="403"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   403 --><span style="color:#af5f00">403</span><br>
<a name="404"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   404 --><span style="color:#af5f00">404</span><br>
<a name="405"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   405 --><span style="color:#af5f00">405</span><br>
<a name="406"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   406 --><span style="color:#af5f00">406</span><br>
<a name="407"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   407 --><span style="color:#af5f00">407</span><br>
<a name="408"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   408 --><span style="color:#af5f00">408</span><br>
<a name="409"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   409 --><span style="color:#af5f00">409</span><br>
<a name="410"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   410 --><span style="color:#af5f00">410</span><br>
<a name="411"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   411 --><span style="color:#af5f00">411</span><br>
<a name="412"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   412 --><span style="color:#af5f00">412</span><br>
<a name="413"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   413 --><span style="color:#af5f00">413</span><br>
<a name="414"></a><span class="docrefcomment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><!-- LineNumber   414 --><span style="color:#af5f00">414</span><br>
</span></div><!--code_content-->
</td><td class="code_content">
<div class="code_content"><span class="code_content">
<!-- CodeLine     1 --><span style="color:#c000c0">#include&nbsp;</span><span style="color:#c00000">&lt;ulmblas.h&gt;</span><br>
<!-- CodeLine     2 --><span style="color:#c000c0">#include&nbsp;</span><span style="color:#c00000">&lt;stdio.h&gt;</span><br>
<!-- CodeLine     3 --><span style="color:#c000c0">#include&nbsp;</span><span style="color:#c00000">&lt;emmintrin.h&gt;</span><br>
<!-- CodeLine     4 --><br>
<!-- CodeLine     5 --><span style="color:#c000c0">#define MC&nbsp;&nbsp;</span><span style="color:#c00000">384</span><br>
<!-- CodeLine     6 --><span style="color:#c000c0">#define KC&nbsp;&nbsp;</span><span style="color:#c00000">384</span><br>
<!-- CodeLine     7 --><span style="color:#c000c0">#define NC&nbsp;&nbsp;</span><span style="color:#c00000">4096</span><br>
<!-- CodeLine     8 --><br>
<!-- CodeLine     9 --><span style="color:#c000c0">#define MR&nbsp;&nbsp;</span><span style="color:#c00000">4</span><br>
<!-- CodeLine    10 --><span style="color:#c000c0">#define NR&nbsp;&nbsp;</span><span style="color:#c00000">4</span><br>
<!-- CodeLine    11 --><br>
<!-- CodeLine    12 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    13 --><span style="color:#0000c0">//&nbsp;&nbsp;Local buffers for storing panels from A, B and C</span><br>
<!-- CodeLine    14 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    15 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">double</span>&nbsp;_A[MC*KC] __attribute__ ((aligned (<span style="color:#c00000">16</span>)));<br>
<!-- CodeLine    16 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">double</span>&nbsp;_B[KC*NC] __attribute__ ((aligned (<span style="color:#c00000">16</span>)));<br>
<!-- CodeLine    17 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">double</span>&nbsp;_C[MR*NR] __attribute__ ((aligned (<span style="color:#c00000">16</span>)));<br>
<!-- CodeLine    18 --><br>
<!-- CodeLine    19 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    20 --><span style="color:#0000c0">//&nbsp;&nbsp;Packing complete panels from A (i.e. without padding)</span><br>
<!-- CodeLine    21 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    22 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine    23 -->pack_MRxk(<span style="color:#008000">int</span>&nbsp;k,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*A,&nbsp;<span style="color:#008000">int</span>&nbsp;incRowA,&nbsp;<span style="color:#008000">int</span>&nbsp;incColA,<br>
<!-- CodeLine    24 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;*buffer)<br>
<!-- CodeLine    25 -->{<br>
<!-- CodeLine    26 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine    27 --><br>
<!-- CodeLine    28 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;k; ++j) {<br>
<!-- CodeLine    29 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine    30 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[i] = A[i*incRowA];<br>
<!-- CodeLine    31 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    32 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += MR;<br>
<!-- CodeLine    33 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= incColA;<br>
<!-- CodeLine    34 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    35 -->}<br>
<!-- CodeLine    36 --><br>
<!-- CodeLine    37 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    38 --><span style="color:#0000c0">//&nbsp;&nbsp;Packing panels from A with padding if required</span><br>
<!-- CodeLine    39 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    40 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine    41 -->pack_A(<span style="color:#008000">int</span>&nbsp;mc,&nbsp;<span style="color:#008000">int</span>&nbsp;kc,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*A,&nbsp;<span style="color:#008000">int</span>&nbsp;incRowA,&nbsp;<span style="color:#008000">int</span>&nbsp;incColA,<br>
<!-- CodeLine    42 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;*buffer)<br>
<!-- CodeLine    43 -->{<br>
<!-- CodeLine    44 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;mp&nbsp;&nbsp;= mc / MR;<br>
<!-- CodeLine    45 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_mr = mc % MR;<br>
<!-- CodeLine    46 --><br>
<!-- CodeLine    47 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine    48 --><br>
<!-- CodeLine    49 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;mp; ++i) {<br>
<!-- CodeLine    50 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pack_MRxk(kc, A, incRowA, incColA, buffer);<br>
<!-- CodeLine    51 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += kc*MR;<br>
<!-- CodeLine    52 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= MR*incRowA;<br>
<!-- CodeLine    53 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    54 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(_mr&gt;<span style="color:#c00000">0</span>) {<br>
<!-- CodeLine    55 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;kc; ++j) {<br>
<!-- CodeLine    56 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;_mr; ++i) {<br>
<!-- CodeLine    57 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[i] = A[i*incRowA];<br>
<!-- CodeLine    58 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    59 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=_mr; i&lt;MR; ++i) {<br>
<!-- CodeLine    60 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[i] =&nbsp;<span style="color:#c00000">0.0</span>;<br>
<!-- CodeLine    61 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    62 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += MR;<br>
<!-- CodeLine    63 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= incColA;<br>
<!-- CodeLine    64 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    65 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    66 -->}<br>
<!-- CodeLine    67 --><br>
<!-- CodeLine    68 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    69 --><span style="color:#0000c0">//&nbsp;&nbsp;Packing complete panels from B (i.e. without padding)</span><br>
<!-- CodeLine    70 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    71 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine    72 -->pack_kxNR(<span style="color:#008000">int</span>&nbsp;k,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*B,&nbsp;<span style="color:#008000">int</span>&nbsp;incRowB,&nbsp;<span style="color:#008000">int</span>&nbsp;incColB,<br>
<!-- CodeLine    73 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;*buffer)<br>
<!-- CodeLine    74 -->{<br>
<!-- CodeLine    75 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine    76 --><br>
<!-- CodeLine    77 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;k; ++i) {<br>
<!-- CodeLine    78 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine    79 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[j] = B[j*incColB];<br>
<!-- CodeLine    80 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    81 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += NR;<br>
<!-- CodeLine    82 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= incRowB;<br>
<!-- CodeLine    83 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine    84 -->}<br>
<!-- CodeLine    85 --><br>
<!-- CodeLine    86 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    87 --><span style="color:#0000c0">//&nbsp;&nbsp;Packing panels from B with padding if required</span><br>
<!-- CodeLine    88 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine    89 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine    90 -->pack_B(<span style="color:#008000">int</span>&nbsp;kc,&nbsp;<span style="color:#008000">int</span>&nbsp;nc,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*B,&nbsp;<span style="color:#008000">int</span>&nbsp;incRowB,&nbsp;<span style="color:#008000">int</span>&nbsp;incColB,<br>
<!-- CodeLine    91 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;*buffer)<br>
<!-- CodeLine    92 -->{<br>
<!-- CodeLine    93 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;np&nbsp;&nbsp;= nc / NR;<br>
<!-- CodeLine    94 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_nr = nc % NR;<br>
<!-- CodeLine    95 --><br>
<!-- CodeLine    96 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine    97 --><br>
<!-- CodeLine    98 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;np; ++j) {<br>
<!-- CodeLine    99 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pack_kxNR(kc, B, incRowB, incColB, buffer);<br>
<!-- CodeLine   100 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += kc*NR;<br>
<!-- CodeLine   101 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= NR*incColB;<br>
<!-- CodeLine   102 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   103 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(_nr&gt;<span style="color:#c00000">0</span>) {<br>
<!-- CodeLine   104 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;kc; ++i) {<br>
<!-- CodeLine   105 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;_nr; ++j) {<br>
<!-- CodeLine   106 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[j] = B[j*incColB];<br>
<!-- CodeLine   107 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   108 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=_nr; j&lt;NR; ++j) {<br>
<!-- CodeLine   109 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer[j] =&nbsp;<span style="color:#c00000">0.0</span>;<br>
<!-- CodeLine   110 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   111 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer += NR;<br>
<!-- CodeLine   112 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+= incRowB;<br>
<!-- CodeLine   113 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   114 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   115 -->}<br>
<!-- CodeLine   116 --><br>
<!-- CodeLine   117 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   118 --><span style="color:#0000c0">//&nbsp;&nbsp;Micro kernel for multiplying panels from A and B.</span><br>
<!-- CodeLine   119 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   120 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine   121 -->dgemm_micro_kernel(<span style="color:#008000">int</span>&nbsp;kc,<br>
<!-- CodeLine   122 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;alpha,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*A,&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;*B,<br>
<!-- CodeLine   123 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;beta,<br>
<!-- CodeLine   124 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;*C,&nbsp;<span style="color:#008000">int</span>&nbsp;incRowC,&nbsp;<span style="color:#008000">int</span>&nbsp;incColC)<br>
<!-- CodeLine   125 -->{<br>
<!-- CodeLine   126 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;AB[MR*NR] __attribute__ ((aligned (<span style="color:#c00000">16</span>)));<br>
<!-- CodeLine   127 --><br>
<!-- CodeLine   128 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000c0">// Cols of AB in SSE registers</span><br>
<!-- CodeLine   129 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; ab_00_10, ab_20_30;<br>
<!-- CodeLine   130 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; ab_01_11, ab_21_31;<br>
<!-- CodeLine   131 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; ab_02_12, ab_22_32;<br>
<!-- CodeLine   132 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; ab_03_13, ab_23_33;<br>
<!-- CodeLine   133 --><br>
<!-- CodeLine   134 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; a_01, a_23;<br>
<!-- CodeLine   135 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; b_00, b_11, b_22, b_33;<br>
<!-- CodeLine   136 -->&nbsp;&nbsp;&nbsp;&nbsp;__m128d&nbsp;&nbsp; tmp1, tmp2;<br>
<!-- CodeLine   137 --><br>
<!-- CodeLine   138 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j, l;<br>
<!-- CodeLine   139 --><br>
<!-- CodeLine   140 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_00_10 = _mm_setzero_pd();<br>
<!-- CodeLine   141 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_20_30 = _mm_setzero_pd();<br>
<!-- CodeLine   142 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_01_11 = _mm_setzero_pd();<br>
<!-- CodeLine   143 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_21_31 = _mm_setzero_pd();<br>
<!-- CodeLine   144 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_02_12 = _mm_setzero_pd();<br>
<!-- CodeLine   145 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_22_32 = _mm_setzero_pd();<br>
<!-- CodeLine   146 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_03_13 = _mm_setzero_pd();<br>
<!-- CodeLine   147 -->&nbsp;&nbsp;&nbsp;&nbsp;ab_23_33 = _mm_setzero_pd();<br>
<!-- CodeLine   148 --><br>
<!-- CodeLine   149 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   150 --><span style="color:#0000c0">//&nbsp;&nbsp;Compute AB = A*B</span><br>
<!-- CodeLine   151 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   152 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(l=<span style="color:#c00000">0</span>; l&lt;kc; ++l) {<br>
<!-- CodeLine   153 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_01 = _mm_load_pd(A);<br>
<!-- CodeLine   154 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_23 = _mm_load_pd(A+<span style="color:#c00000">2</span>);<br>
<!-- CodeLine   155 --><br>
<!-- CodeLine   156 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_00 = _mm_load_pd1(B);<br>
<!-- CodeLine   157 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_11 = _mm_load_pd1(B+<span style="color:#c00000">1</span>);<br>
<!-- CodeLine   158 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_22 = _mm_load_pd1(B+<span style="color:#c00000">2</span>);<br>
<!-- CodeLine   159 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_33 = _mm_load_pd1(B+<span style="color:#c00000">3</span>);<br>
<!-- CodeLine   160 --><br>
<!-- CodeLine   161 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = a_01;<br>
<!-- CodeLine   162 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = a_23;<br>
<!-- CodeLine   163 --><br>
<!-- CodeLine   164 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000c0">// col 0 of AB</span><br>
<!-- CodeLine   165 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = _mm_mul_pd(tmp1, b_00);<br>
<!-- CodeLine   166 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = _mm_mul_pd(tmp2, b_00);<br>
<!-- CodeLine   167 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_00_10 = _mm_add_pd(tmp1, ab_00_10);<br>
<!-- CodeLine   168 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_20_30 = _mm_add_pd(tmp2, ab_20_30);<br>
<!-- CodeLine   169 --><br>
<!-- CodeLine   170 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000c0">// col 1 of AB</span><br>
<!-- CodeLine   171 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = a_01;<br>
<!-- CodeLine   172 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = a_23;<br>
<!-- CodeLine   173 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = _mm_mul_pd(tmp1, b_11);<br>
<!-- CodeLine   174 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = _mm_mul_pd(tmp2, b_11);<br>
<!-- CodeLine   175 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_01_11 = _mm_add_pd(tmp1, ab_01_11);<br>
<!-- CodeLine   176 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_21_31 = _mm_add_pd(tmp2, ab_21_31);<br>
<!-- CodeLine   177 --><br>
<!-- CodeLine   178 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000c0">// col 2 of AB</span><br>
<!-- CodeLine   179 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = a_01;<br>
<!-- CodeLine   180 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = a_23;<br>
<!-- CodeLine   181 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = _mm_mul_pd(tmp1, b_22);<br>
<!-- CodeLine   182 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = _mm_mul_pd(tmp2, b_22);<br>
<!-- CodeLine   183 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_02_12 = _mm_add_pd(tmp1, ab_02_12);<br>
<!-- CodeLine   184 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_22_32 = _mm_add_pd(tmp2, ab_22_32);<br>
<!-- CodeLine   185 --><br>
<!-- CodeLine   186 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000c0">// col 3 of AB</span><br>
<!-- CodeLine   187 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = a_01;<br>
<!-- CodeLine   188 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = a_23;<br>
<!-- CodeLine   189 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp1 = _mm_mul_pd(tmp1, b_33);<br>
<!-- CodeLine   190 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp2 = _mm_mul_pd(tmp2, b_33);<br>
<!-- CodeLine   191 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_03_13 = _mm_add_pd(tmp1, ab_03_13);<br>
<!-- CodeLine   192 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab_23_33 = _mm_add_pd(tmp2, ab_23_33);<br>
<!-- CodeLine   193 --><br>
<!-- CodeLine   194 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A +=&nbsp;<span style="color:#c00000">4</span>;<br>
<!-- CodeLine   195 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B +=&nbsp;<span style="color:#c00000">4</span>;<br>
<!-- CodeLine   196 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   197 --><br>
<!-- CodeLine   198 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+&nbsp;<span style="color:#c00000">0</span>, ab_00_10);<br>
<!-- CodeLine   199 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+&nbsp;<span style="color:#c00000">2</span>, ab_20_30);<br>
<!-- CodeLine   200 --><br>
<!-- CodeLine   201 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+&nbsp;<span style="color:#c00000">4</span>, ab_01_11);<br>
<!-- CodeLine   202 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+&nbsp;<span style="color:#c00000">6</span>, ab_21_31);<br>
<!-- CodeLine   203 --><br>
<!-- CodeLine   204 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+&nbsp;<span style="color:#c00000">8</span>, ab_02_12);<br>
<!-- CodeLine   205 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+<span style="color:#c00000">10</span>, ab_22_32);<br>
<!-- CodeLine   206 --><br>
<!-- CodeLine   207 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+<span style="color:#c00000">12</span>, ab_03_13);<br>
<!-- CodeLine   208 -->&nbsp;&nbsp;&nbsp;&nbsp;_mm_store_pd(AB+<span style="color:#c00000">14</span>, ab_23_33);<br>
<!-- CodeLine   209 --><br>
<!-- CodeLine   210 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   211 --><span style="color:#0000c0">//&nbsp;&nbsp;Update C &lt;- beta*C</span><br>
<!-- CodeLine   212 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   213 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(beta==<span style="color:#c00000">0.0</span>) {<br>
<!-- CodeLine   214 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine   215 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine   216 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C[i*incRowC+j*incColC] =&nbsp;<span style="color:#c00000">0.0</span>;<br>
<!-- CodeLine   217 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   218 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   219 -->&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#af5f00">else</span>&nbsp;<span style="color:#af5f00">if</span>&nbsp;(beta!=<span style="color:#c00000">1.0</span>) {<br>
<!-- CodeLine   220 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine   221 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine   222 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C[i*incRowC+j*incColC] *= beta;<br>
<!-- CodeLine   223 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   224 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   225 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   226 --><br>
<!-- CodeLine   227 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   228 --><span style="color:#0000c0">//&nbsp;&nbsp;Update C &lt;- C + alpha*AB (note: the case alpha==0.0 was already treated in</span><br>
<!-- CodeLine   229 --><span style="color:#0000c0">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the above layer dgemm_nn)</span><br>
<!-- CodeLine   230 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   231 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(alpha==<span style="color:#c00000">1.0</span>) {<br>
<!-- CodeLine   232 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine   233 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine   234 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C[i*incRowC+j*incColC] += AB[i+j*MR];<br>
<!-- CodeLine   235 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   236 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   237 -->&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#af5f00">else</span>&nbsp;{<br>
<!-- CodeLine   238 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;NR; ++j) {<br>
<!-- CodeLine   239 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;MR; ++i) {<br>
<!-- CodeLine   240 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C[i*incRowC+j*incColC] += alpha*AB[i+j*MR];<br>
<!-- CodeLine   241 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   242 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   243 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   244 -->}<br>
<!-- CodeLine   245 --><br>
<!-- CodeLine   246 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   247 --><span style="color:#0000c0">//&nbsp;&nbsp;Compute Y += alpha*X</span><br>
<!-- CodeLine   248 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   249 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine   250 -->dgeaxpy(<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m,<br>
<!-- CodeLine   251 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n,<br>
<!-- CodeLine   252 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alpha,<br>
<!-- CodeLine   253 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;*X,<br>
<!-- CodeLine   254 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incRowX,<br>
<!-- CodeLine   255 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incColX,<br>
<!-- CodeLine   256 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*Y,<br>
<!-- CodeLine   257 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incRowY,<br>
<!-- CodeLine   258 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incColY)<br>
<!-- CodeLine   259 -->{<br>
<!-- CodeLine   260 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine   261 --><br>
<!-- CodeLine   262 --><br>
<!-- CodeLine   263 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(alpha!=<span style="color:#c00000">1.0</span>) {<br>
<!-- CodeLine   264 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;n; ++j) {<br>
<!-- CodeLine   265 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;m; ++i) {<br>
<!-- CodeLine   266 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y[i*incRowY+j*incColY] += alpha*X[i*incRowX+j*incColX];<br>
<!-- CodeLine   267 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   268 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   269 -->&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#af5f00">else</span>&nbsp;{<br>
<!-- CodeLine   270 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;n; ++j) {<br>
<!-- CodeLine   271 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;m; ++i) {<br>
<!-- CodeLine   272 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y[i*incRowY+j*incColY] += X[i*incRowX+j*incColX];<br>
<!-- CodeLine   273 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   274 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   275 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   276 -->}<br>
<!-- CodeLine   277 --><br>
<!-- CodeLine   278 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   279 --><span style="color:#0000c0">//&nbsp;&nbsp;Compute X *= alpha</span><br>
<!-- CodeLine   280 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   281 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine   282 -->dgescal(<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; m,<br>
<!-- CodeLine   283 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; n,<br>
<!-- CodeLine   284 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;alpha,<br>
<!-- CodeLine   285 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;*X,<br>
<!-- CodeLine   286 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; incRowX,<br>
<!-- CodeLine   287 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; incColX)<br>
<!-- CodeLine   288 -->{<br>
<!-- CodeLine   289 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine   290 --><br>
<!-- CodeLine   291 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(alpha!=<span style="color:#c00000">0.0</span>) {<br>
<!-- CodeLine   292 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;n; ++j) {<br>
<!-- CodeLine   293 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;m; ++i) {<br>
<!-- CodeLine   294 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[i*incRowX+j*incColX] *= alpha;<br>
<!-- CodeLine   295 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   296 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   297 -->&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#af5f00">else</span>&nbsp;{<br>
<!-- CodeLine   298 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;n; ++j) {<br>
<!-- CodeLine   299 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;m; ++i) {<br>
<!-- CodeLine   300 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[i*incRowX+j*incColX] =&nbsp;<span style="color:#c00000">0.0</span>;<br>
<!-- CodeLine   301 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   302 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   303 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   304 -->}<br>
<!-- CodeLine   305 --><br>
<!-- CodeLine   306 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   307 --><span style="color:#0000c0">//&nbsp;&nbsp;Macro Kernel for the multiplication of blocks of A and B.&nbsp;&nbsp;We assume that</span><br>
<!-- CodeLine   308 --><span style="color:#0000c0">//&nbsp;&nbsp;these blocks were previously packed to buffers _A and _B.</span><br>
<!-- CodeLine   309 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   310 --><span style="color:#008000">static</span>&nbsp;<span style="color:#008000">void</span><br>
<!-- CodeLine   311 -->dgemm_macro_kernel(<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; mc,<br>
<!-- CodeLine   312 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; nc,<br>
<!-- CodeLine   313 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; kc,<br>
<!-- CodeLine   314 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;alpha,<br>
<!-- CodeLine   315 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;beta,<br>
<!-- CodeLine   316 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;*C,<br>
<!-- CodeLine   317 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; incRowC,<br>
<!-- CodeLine   318 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp; incColC)<br>
<!-- CodeLine   319 -->{<br>
<!-- CodeLine   320 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;mp = (mc+MR-<span style="color:#c00000">1</span>) / MR;<br>
<!-- CodeLine   321 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;np = (nc+NR-<span style="color:#c00000">1</span>) / NR;<br>
<!-- CodeLine   322 --><br>
<!-- CodeLine   323 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_mr = mc % MR;<br>
<!-- CodeLine   324 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_nr = nc % NR;<br>
<!-- CodeLine   325 --><br>
<!-- CodeLine   326 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;mr, nr;<br>
<!-- CodeLine   327 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j;<br>
<!-- CodeLine   328 --><br>
<!-- CodeLine   329 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;np; ++j) {<br>
<!-- CodeLine   330 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nr&nbsp;&nbsp;&nbsp;&nbsp;= (j!=np-<span style="color:#c00000">1</span>&nbsp;|| _nr==<span style="color:#c00000">0</span>) ? NR : _nr;<br>
<!-- CodeLine   331 --><br>
<!-- CodeLine   332 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;mp; ++i) {<br>
<!-- CodeLine   333 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mr&nbsp;&nbsp;&nbsp;&nbsp;= (i!=mp-<span style="color:#c00000">1</span>&nbsp;|| _mr==<span style="color:#c00000">0</span>) ? MR : _mr;<br>
<!-- CodeLine   334 --><br>
<!-- CodeLine   335 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(mr==MR &amp;&amp; nr==NR) {<br>
<!-- CodeLine   336 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgemm_micro_kernel(kc, alpha, &amp;_A[i*kc*MR], &amp;_B[j*kc*NR],<br>
<!-- CodeLine   337 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; beta,<br>
<!-- CodeLine   338 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;C[i*MR*incRowC+j*NR*incColC],<br>
<!-- CodeLine   339 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incRowC, incColC);<br>
<!-- CodeLine   340 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#af5f00">else</span>&nbsp;{<br>
<!-- CodeLine   341 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgemm_micro_kernel(kc, alpha, &amp;_A[i*kc*MR], &amp;_B[j*kc*NR],<br>
<!-- CodeLine   342 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#c00000">0.0</span>,<br>
<!-- CodeLine   343 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _C,&nbsp;<span style="color:#c00000">1</span>, MR);<br>
<!-- CodeLine   344 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgescal(mr, nr, beta,<br>
<!-- CodeLine   345 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;C[i*MR*incRowC+j*NR*incColC], incRowC, incColC);<br>
<!-- CodeLine   346 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgeaxpy(mr, nr,&nbsp;<span style="color:#c00000">1.0</span>, _C,&nbsp;<span style="color:#c00000">1</span>, MR,<br>
<!-- CodeLine   347 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;C[i*MR*incRowC+j*NR*incColC], incRowC, incColC);<br>
<!-- CodeLine   348 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   349 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   350 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   351 -->}<br>
<!-- CodeLine   352 --><br>
<!-- CodeLine   353 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   354 --><span style="color:#0000c0">//&nbsp;&nbsp;Compute C &lt;- beta*C + alpha*A*B</span><br>
<!-- CodeLine   355 --><span style="color:#0000c0">//</span><br>
<!-- CodeLine   356 --><span style="color:#008000">void</span><br>
<!-- CodeLine   357 -->dgemm_nn(<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m,<br>
<!-- CodeLine   358 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n,<br>
<!-- CodeLine   359 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k,<br>
<!-- CodeLine   360 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alpha,<br>
<!-- CodeLine   361 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp; *A,<br>
<!-- CodeLine   362 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incRowA,<br>
<!-- CodeLine   363 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incColA,<br>
<!-- CodeLine   364 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">const</span>&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp; *B,<br>
<!-- CodeLine   365 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incRowB,<br>
<!-- CodeLine   366 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incColB,<br>
<!-- CodeLine   367 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; beta,<br>
<!-- CodeLine   368 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *C,<br>
<!-- CodeLine   369 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incRowC,<br>
<!-- CodeLine   370 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incColC)<br>
<!-- CodeLine   371 -->{<br>
<!-- CodeLine   372 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;mb = (m+MC-<span style="color:#c00000">1</span>) / MC;<br>
<!-- CodeLine   373 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;nb = (n+NC-<span style="color:#c00000">1</span>) / NC;<br>
<!-- CodeLine   374 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;kb = (k+KC-<span style="color:#c00000">1</span>) / KC;<br>
<!-- CodeLine   375 --><br>
<!-- CodeLine   376 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_mc = m % MC;<br>
<!-- CodeLine   377 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_nc = n % NC;<br>
<!-- CodeLine   378 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;_kc = k % KC;<br>
<!-- CodeLine   379 --><br>
<!-- CodeLine   380 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;mc, nc, kc;<br>
<!-- CodeLine   381 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">int</span>&nbsp;i, j, l;<br>
<!-- CodeLine   382 --><br>
<!-- CodeLine   383 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#008000">double</span>&nbsp;_beta;<br>
<!-- CodeLine   384 --><br>
<!-- CodeLine   385 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">if</span>&nbsp;(alpha==<span style="color:#c00000">0.0</span>&nbsp;|| k==<span style="color:#c00000">0</span>) {<br>
<!-- CodeLine   386 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgescal(m, n, beta, C, incRowC, incColC);<br>
<!-- CodeLine   387 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">return</span>;<br>
<!-- CodeLine   388 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   389 --><br>
<!-- CodeLine   390 -->&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(j=<span style="color:#c00000">0</span>; j&lt;nb; ++j) {<br>
<!-- CodeLine   391 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nc = (j!=nb-<span style="color:#c00000">1</span>&nbsp;|| _nc==<span style="color:#c00000">0</span>) ? NC : _nc;<br>
<!-- CodeLine   392 --><br>
<!-- CodeLine   393 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(l=<span style="color:#c00000">0</span>; l&lt;kb; ++l) {<br>
<!-- CodeLine   394 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kc&nbsp;&nbsp;&nbsp;&nbsp;= (l!=kb-<span style="color:#c00000">1</span>&nbsp;|| _kc==<span style="color:#c00000">0</span>) ? KC&nbsp;&nbsp; : _kc;<br>
<!-- CodeLine   395 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_beta = (l==<span style="color:#c00000">0</span>) ? beta :&nbsp;<span style="color:#c00000">1.0</span>;<br>
<!-- CodeLine   396 --><br>
<!-- CodeLine   397 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pack_B(kc, nc,<br>
<!-- CodeLine   398 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;B[l*KC*incRowB+j*NC*incColB], incRowB, incColB,<br>
<!-- CodeLine   399 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _B);<br>
<!-- CodeLine   400 --><br>
<!-- CodeLine   401 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#af5f00">for</span>&nbsp;(i=<span style="color:#c00000">0</span>; i&lt;mb; ++i) {<br>
<!-- CodeLine   402 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mc = (i!=mb-<span style="color:#c00000">1</span>&nbsp;|| _mc==<span style="color:#c00000">0</span>) ? MC : _mc;<br>
<!-- CodeLine   403 --><br>
<!-- CodeLine   404 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pack_A(mc, kc,<br>
<!-- CodeLine   405 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;A[i*MC*incRowA+l*KC*incColA], incRowA, incColA,<br>
<!-- CodeLine   406 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _A);<br>
<!-- CodeLine   407 --><br>
<!-- CodeLine   408 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dgemm_macro_kernel(mc, nc, kc, alpha, _beta,<br>
<!-- CodeLine   409 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;C[i*MC*incRowC+j*NC*incColC],<br>
<!-- CodeLine   410 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; incRowC, incColC);<br>
<!-- CodeLine   411 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   412 -->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   413 -->&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<!-- CodeLine   414 -->}<br>
</span></div><!--code_content-->
</td></tr></table>
</div><!-- code -->


<h2 class="doc">
<a name="toc4"></a>
Benchmark Results</h2>

<p >
     We run the benchmarks</p><div class="shell" ><pre>
<span class="cmd">$shell> cd bench                                                         </span>
<span class="cmd">$shell> ./xdl3blastst > report                                           </span>
<span class="cmd">$shell> cat report                                                       </span>
./xdl3blastst 
--------------------------------- GEMM ----------------------------------
TST# A B    M    N    K ALPHA  LDA  LDB  BETA  LDC  TIME MFLOP SpUp  TEST
==== = = ==== ==== ==== ===== ==== ==== ===== ==== ===== ===== ==== =====
   0 N N  100  100  100   1.0 1000 1000   1.0 1000  0.00 1798.6 1.00 -----
   0 N N  100  100  100   1.0 1000 1000   1.0 1000  0.00 3898.6 2.17 PASS 
   1 N N  200  200  200   1.0 1000 1000   1.0 1000  0.01 1949.6 1.00 -----
   1 N N  200  200  200   1.0 1000 1000   1.0 1000  0.00 4461.8 2.29 PASS 
   2 N N  300  300  300   1.0 1000 1000   1.0 1000  0.03 2018.2 1.00 -----
   2 N N  300  300  300   1.0 1000 1000   1.0 1000  0.01 4634.0 2.30 PASS 
   3 N N  400  400  400   1.0 1000 1000   1.0 1000  0.06 2017.5 1.00 -----
   3 N N  400  400  400   1.0 1000 1000   1.0 1000  0.03 4601.2 2.28 PASS 
   4 N N  500  500  500   1.0 1000 1000   1.0 1000  0.14 1837.7 1.00 -----
   4 N N  500  500  500   1.0 1000 1000   1.0 1000  0.05 4680.6 2.55 PASS 
   5 N N  600  600  600   1.0 1000 1000   1.0 1000  0.32 1337.4 1.00 -----
   5 N N  600  600  600   1.0 1000 1000   1.0 1000  0.09 4740.0 3.54 PASS 
   6 N N  700  700  700   1.0 1000 1000   1.0 1000  0.70 983.0 1.00 -----
   6 N N  700  700  700   1.0 1000 1000   1.0 1000  0.14 4770.6 4.85 PASS 
   7 N N  800  800  800   1.0 1000 1000   1.0 1000  0.98 1045.5 1.00 -----
   7 N N  800  800  800   1.0 1000 1000   1.0 1000  0.22 4752.8 4.55 PASS 
   8 N N  900  900  900   1.0 1000 1000   1.0 1000  1.38 1056.5 1.00 -----
   8 N N  900  900  900   1.0 1000 1000   1.0 1000  0.30 4783.0 4.53 PASS 
   9 N N 1000 1000 1000   1.0 1000 1000   1.0 1000  1.72 1160.3 1.00 -----
   9 N N 1000 1000 1000   1.0 1000 1000   1.0 1000  0.42 4805.7 4.14 PASS 
10 tests run, 10 passed
</pre></div>
<p >
     and filter out the results for the <tt>demo-naive-sse-with-intrinsics</tt> branch:</p><div class="shell" ><pre>
<span class="cmd">$shell> grep PASS report > demo-naive-sse-with-intrinsics                </span>
</pre></div>
<p >
     With the gnuplot script</p><div class="code">
<div class="code_title">
<a class="code" href="../download/ulmBLAS/bench/bench3.gps">
ulmBLAS/bench/bench3.gps
</a>
</div><!-- Blub -->
<div class="code_content"><span class="code_content">
<!-- CodeLine     1 -->set terminal svg size 940,480<br>
<!-- CodeLine     2 -->set output &quot;bench3.svg&quot;<br>
<!-- CodeLine     3 -->set xlabel &quot;Matrix dimensions N=M=K&quot;<br>
<!-- CodeLine     4 -->set ylabel &quot;MFLOPS&quot;<br>
<!-- CodeLine     5 -->set yrange [0:9600]<br>
<!-- CodeLine     6 -->set title &quot;Compute C + A*B&quot;<br>
<!-- CodeLine     7 -->set key outside<br>
<!-- CodeLine     8 -->plot &quot;refBLAS&quot; using 4:13 with linespoints lt 2 title &quot;Netlib RefBLAS&quot;, &quot;demo-pure-c&quot; using 4:13 with linespoints lt 4 title &quot;demo-pure-c&quot;, &quot;demo-naive-sse-with-intrinsics&quot; using 4:13 with linespoints lt 5 title &quot;demo-naive-sse-with-intrinsics&quot;<br>
</span></div><!--code_content-->
</div><!-- code -->
<p >
     we feed gnuplot</p><div class="shell" ><pre>
<span class="cmd">$shell> gnuplot bench3.gps                                               </span>
</pre></div>
<p >
     and get</p><div class="centered"><img src="../ulmBLAS/bench/bench3.svg"></div>
</div> <!-- id="content" -->


<div class="nav">
<span class="nav_tut_middle">
<a class="nav" href="../index.html">Home</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../page02/index.html">Back</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../index.html">Up</a>

&nbsp;&nbsp;&nbsp;
<a class="nav" href="../page04/index.html">Next</a>
</span>
</div>


<div id="footer">
    <p id="src">
        View
        <a href="../page03/index.doc.txt">
            document source
            </a>
        </p>
    <a name="source"></a>
    <p id="copy">&copy;  2014 <a href="http://www.mathematik.uni-ulm.de/~lehn">Michael Lehn</a></p>
</div>

</div> <!-- id="wrap" -->

</body>
</html>
